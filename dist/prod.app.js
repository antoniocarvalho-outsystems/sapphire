!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=4)}([function(e,t){SapphireWidgets.ConfirmationPanel={isAnyPanelOpened:function(){return $("body").hasClass("PanelOpened")&&$(".PanelContainer:visible").length},togglePanel:function(e){OsValidatorOnSubmit()&&(SapphireWidgets.ConfirmationPanel.isAnyPanelOpened()||($("body").addClass("PanelOpened"),$("#"+e).fadeIn(140),setTimeout((function(){$("#"+e).find(".PanelContainer").slideToggle(150)}),100)))},closePanel:function(e){$("body").removeClass("PanelOpened"),$("#"+e).fadeOut(140),setTimeout((function(){$("#"+e).find(".PanelContainer").slideUp(150)}),100)},setPanelBehavior:function(){$(".Panel[panel-trigger-elementid]").each((function(){var e=$(this);$("#"+e.attr("panel-trigger-elementid")).off("click").on("click",(function(){return SapphireWidgets.ConfirmationPanel.togglePanel(e.attr("id")),!1}))}))}},$(document).ready((function(){SapphireWidgets.ConfirmationPanel.setPanelBehavior(),-1==osAjaxBackend.EventHandlers.AfterAjaxRequest.toString().indexOf("setPanelBehavior")&&osAjaxBackend.BindAfterAjaxRequest(SapphireWidgets.ConfirmationPanel.setPanelBehavior)}))},function(e,t){SapphireWidgets.PanelById={isAnyPanelOpenedDeprecated:function(){return $("body").hasClass("PanelOpened")},toggleButton:function(e){($(`#${e}`).parents(".ToggleButton").length?$(`#${e}`).parents(".ToggleButton"):$(`#${e}`)).click()},togglePanelById:function(e){if(this.isAnyPanelOpenedDeprecated())$("body").removeClass("PanelOpened"),$("body").css("overflow-y","scroll"),$("#"+e).parents(".ToggleButton").parent().children(".Panel").fadeOut(140),setTimeout((function(){$("#"+e).parents(".ToggleButton").parent().children(".Panel").children(".PanelContainer").slideUp(150),$(`#${e}`).parents(".ToggleButton").click()}),100);else{$("body").addClass("PanelOpened"),$("body").css("overflow-y","hidden"),$("#"+e).parents(".ToggleButton").parent().children(".Panel").fadeIn(140);try{"undefined"!=typeof justDragged&&0==justDragged&&$(".PanelByIdNew_PanelContainer").css("margin-left",panelMarginLeft).css("left",panelLeft).addClass(panelArrowClass)}catch(e){console.log(e)}setTimeout((function(){$("#"+e).parents(".ToggleButton").parent().children(".Panel").children(".PanelContainer").slideDown(150),$(`#${e}`).parents(".ToggleButton").click()}),100)}}}},function(e,t){SapphireWidgets.PopUpMenu={menuPosition:function(e,t){$(".popup-menu:visible").hide();var i=$("#"+e),n=0;i.children(".button-expand:visible").hide();var a=i.next(".popup-menu");a.show(),i.children(".button-collapse").show(),buttonHh=i.outerHeight(),buttonWw=i.outerWidth();var o=i.position().top+buttonHh,s=i.offset().left,r=i.offset().left-i.position().left,l=(a.offset().left,a.outerWidth());n=Math.abs(s-$("body").scrollLeft()-r),Math.abs(buttonHh-o-$("body").scrollTop()),s+l-$("body").scrollLeft()>$(t).width()&&(n=s-l-$("body").scrollLeft()-r+buttonWw),a.css({left:n+"px",top:o+"px"}),a.offset().left;var c=a.children(".popup-menu-balloon"),d=(c.offset().left,c.outerWidth()),u=Math.abs(s-n-r);u+n+d>n+l&&(u-=d),c.css("left",u+"px")},menuEvents:function(e){function t(e){if(e.hasOwnProperty("target")){$(e.target);$(e.target).closest(".popup-button, .popup-menu, .os-internal-ui-autocomplete, .os-internal-ui-menu-item, .os-internal-ui-corner-all, ui-autocomplete-item").length||($(".popup-menu:visible").hide(),$(".button-collapse:visible").hide(),$(".button-expand").show())}}$(".popup-button").off("click").on("click",(function(t){var i=$(this).attr("id");return SapphireWidgets.PopUpMenu.menuPosition(i,e),!1}));var i=!1,n=!1;$(document).on("touchstart",(function(e){i=!1,n=!0})),$(document).on("touchmove",(function(e){i=!0})),$(document).on("click",(function(e){t(e),i=!1,n=!1})),$(document).on("touchend",(function(e){!i&&n&&t(e),i=!1,n=!1})),$(".button-collapse").on("click",(function(e){return $("body").trigger("click"),!1}))}}},function(e,t){SapphireWidgets.SapphirePanel={checkOpenPanel:function(){return $("body").hasClass("SapphirePanelOpen")&&$(".SapphirePanel_Container:visible").length},toggleSapphirePanel:function(e){OsValidatorOnSubmit()&&(SapphireWidgets.SapphirePanel.checkOpenPanel()||($("body").addClass("SapphirePanelOpen"),$("#"+e).fadeIn(140),setTimeout((function(){$("#"+e).find(".SapphirePanel_Container").slideToggle(150)}),100)))},closeSapphirePanel:function(e){$("body").removeClass("SapphirePanelOpen"),$("#"+e).fadeOut(140),setTimeout((function(){$("#"+e).find(".SapphirePanel_Container").slideUp(150)}),100)},setPanelBehavior:function(){$(".Panel[panel-trigger-elementid]").each((function(){var e=$(this);$("#"+e.attr("panel-trigger-elementid")).off("click").on("click",(function(){return SapphireWidgets.SapphirePanel.toggleSapphirePanel(e.attr("id")),!1}))}))}},$(document).ready((function(){SapphireWidgets.SapphirePanel.setPanelBehavior(),-1==osAjaxBackend.EventHandlers.AfterAjaxRequest.toString().indexOf("setPanelBehavior")&&osAjaxBackend.BindAfterAjaxRequest(SapphireWidgets.SapphirePanel.setPanelBehavior)}))},function(e,t,i){i(5);var n;(n=i(6)).keys().forEach(n)},function(e,t,i){},function(e,t,i){var n={"./00-settings/config.js":7,"./05-components/layout/layout-base.js":8,"./05-components/layout/layout-blank.js":9,"./05-components/layout/layout-popup.js":10,"./05-components/v3-pat/actions-menu/scripts.js":11,"./05-components/v3-pat/actions-sub-menu/scripts.js":12,"./05-components/v3-pat/comp-line/scripts.js":13,"./05-components/v3-pat/data-tables/scripts.js":14,"./05-components/v3-pat/datetime-range-picker/scripts.js":15,"./05-components/v3-pat/dropdown-categories/scripts.js":16,"./05-components/v3-pat/dropzone/plugin.js":17,"./05-components/v3-pat/expandable-link/scripts.js":19,"./05-components/v3-pat/fullscreen-tabs-wrapper/scripts.js":20,"./05-components/v3-pat/generic-gallery/scripts.js":21,"./05-components/v3-pat/horizontal-toolbar/scripts.js":22,"./05-components/v3-pat/hour-picker/scripts.js":23,"./05-components/v3-pat/input-with-clear/scripts.js":24,"./05-components/v3-pat/line-details-expand-box/script.js":25,"./05-components/v3-pat/location-box/scripts.js":26,"./05-components/v3-pat/main-interactive-card/scripts.js":27,"./05-components/v3-pat/menu-bar/scripts.js":28,"./05-components/v3-pat/multiple-selection-button/scripts.js":29,"./05-components/v3-pat/panel/confirmation-panel.js":0,"./05-components/v3-pat/panel/confirmation-popup.js":30,"./05-components/v3-pat/panel/panel-by-id-notify.js":31,"./05-components/v3-pat/panel/panel-by-id.js":1,"./05-components/v3-pat/panel/popup-menu.js":2,"./05-components/v3-pat/panel/sapphire-panel.js":3,"./05-components/v3-pat/panel/scripts.js":32,"./05-components/v3-pat/patient-call-cancel/scripts.js":33,"./05-components/v3-pat/person-card/scripts.js":34,"./05-components/v3-pat/prescription-card/scripts.js":35,"./05-components/v3-pat/prescription-expandable/scripts.js":36,"./05-components/v3-pat/sapphire-header/scripts.js":37,"./05-components/v3-pat/sapphire-radio-button/scripts.js":38,"./05-components/v3-pat/scales/scale-main-structure.js":39,"./05-components/v3-pat/scales/toggle-item-control.js":40,"./05-components/v3-pat/search-and-select/select-ssd.js":41,"./05-components/v3-pat/search-and-select/ssd-search.js":42,"./05-components/v3-pat/section-expandable-custom/scripts.js":43,"./05-components/v3-pat/section-expandable-inside/scripts.js":44,"./05-components/v3-pat/select-system/scripts.js":45,"./05-components/v3-pat/shift-container/scripts.js":46,"./05-components/v3-pat/side-menu/scripts.js":47,"./05-components/v3-pat/sidebar/sidebar-structure.js":48,"./05-components/v3-pat/spinner-horizontal/scripts.js":49,"./05-components/v3-pat/spinner-vertical/scripts.js":50,"./05-components/v3-pat/split-button/scripts.js":51,"./05-components/v3-pat/ssd-component-block/scripts.js":52,"./05-components/v3-pat/ssd-list-line/scripts.js":53,"./05-components/v3-pat/table-data/scripts.js":54,"./05-components/v3-pat/tabs-extended/scripts.js":55,"./05-components/v3-pat/trigger-iframe-tooltip/trigger-iframe-tooltip.js":56,"./globals.js":57};function a(e){var t=o(e);return i(t)}function o(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=6},function(e,t){SapphireWidgets=window.SapphireWidgets=window.SapphireWidgets||{}},function(e,t){!function(e,t,i,n){var a=function(i){var n=this;this.layoutBaseRedrawTimer=0,this.hasHeader=i.hasHeader,this.isExpandable=i.isExpandable,this.isTopWindow=t.top===t.self,this.$widget=e("#"+i.widgetId),this.$wrapper=this.$widget.find(".LayoutBase-Wrapper"),this.$spacer=this.$widget.find(".LayoutBase-spacer"),this.$mainMenu=this.$widget.find(".LayoutBase-MainMenu"),this.$header=this.$widget.find(".LayoutBase-header"),this.$headerBody=this.$widget.find(".SapphireHeader-body"),this.$primaryMenu=this.$widget.find(".LayoutBase-primary-menu"),this.$emergency=this.$widget.find(".LayoutBase-emergency"),this.$secondary=this.$widget.find(".LayoutBase-secondary"),this.$secondaryMenu=this.$widget.find(".LayoutBase-secondary-menu"),this.$iframeSidebar=this.$widget.find(".LayoutBase-iframesidebar"),this.$headerAdditionalContent=this.$widget.find(".SapphireHeader-additional-content"),this.$topfixedContent=this.$widget.find(".LayoutBase-topfixedcontent"),this.$bottomfixedContent=this.$widget.find(".LayoutBase-bottomfixedcontent"),this.$mainContent=this.$widget.find(".LayoutBase-MainContent"),this.extraPaddingEmergency=0,this.extraPaddingSecondary=0,this.setupWindowEvents(),this.$iframeSidebar.append('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'),e((function(){e("body").addClass("LayoutBase"),n.isTopWindow&&e("body").css("overflow-y","scroll")})),e(t).load((function(){e(t).scroll()}))};a.prototype.setupWindowEvents=function(){var i=this,n=0;e(t).resize((function(){i.updateThresholds(),i.handleOptionalContainers(),i.handleLayoutTopPadding(),i.handleLayoutBottomPadding()})),e(t).scroll((function(){var a=e(t).scrollTop();t.clearTimeout(i.layoutBaseRedrawTimer),i.layoutBaseRedrawTimer=t.setTimeout((function(){i.updateThresholds(),i.handleOptionalContainers(),i.handleLayoutTopPadding(),i.handleLayoutBottomPadding(),i.handleManageQueueCard(n,a),n=a}),100)}))},a.prototype.handleOptionalContainers=function(){var i=e(t).scrollTop();if(1===this.$emergency.length&&(i+this.contentThreshold>this.emergencyThreshold?(this.$emergency.addClass("isFixed"),this.$emergency.css({top:this.contentThreshold,width:this.$header.width()}),this.extraPaddingEmergency=this.$emergency.outerHeight(!0)):(this.$emergency.removeClass("isFixed"),this.$emergency.css({top:"auto",width:"100%"}),this.extraPaddingEmergency=0)),1===this.$secondary.length&&this.$secondary.text().length>0){const a=new CustomEvent("ToolbarFixed"),o=this.$secondary.hasClass("isFixed");if(0===this.$secondaryMenu.text().length&&this.$secondary.addClass("noToolbar"),i+this.contentThreshold+(this.$emergency.outerHeight(!0)||0)>this.secondaryThreshold){if(this.$secondary.addClass("isFixed").css({top:this.contentThreshold+(this.$emergency.outerHeight(!0)||0),width:this.$header.width()}),this.$secondary.find(".Button.Second, .Button.Third, .Button.Link").not(".Panel .Button.Small, .Panel .Button.Third").addClass("Small"),1===this.$secondary.find(".Toolbar").length){var n=.66*e(".SapphireHeader").outerWidth(!0);this.$secondary.find(".Toolbar").width(n)}0===this.$secondaryMenu.text().length&&this.$secondary.addClass("noToolbar"),this.$primaryMenu.css("opacity",0),this.extraPaddingSecondary=this.$secondary.outerHeight(!0),o||t.dispatchEvent(a)}else this.$secondary.removeClass("isFixed").css({top:"auto",width:"100%"}),this.$secondary.find(".Button.Second, .Button.Third, .Button.Link").removeClass("Small"),this.$primaryMenu.css("opacity",1),this.$secondary.css({height:"unset"}),this.$secondary.find(".Toolbar").css("width","100%"),this.extraPaddingSecondary=0,t.dispatchEvent(a);this.$secondaryMenu.text().length>0?this.$widget.find(".ClinicianWorkArea-columns-big").css("margin-top","unset"):(this.$widget.find(".ClinicianWorkArea-columns-big").css("margin-top",-this.$secondary.outerHeight(!0)),this.$secondaryMenu.css("background-color","transparent"))}},a.prototype.handleLayoutTopPadding=function(){var t=this.contentThreshold+this.extraPaddingEmergency+this.extraPaddingSecondary;this.$spacer.stop().animate({height:t},0,"linear"),1===this.$topfixedContent.length&&this.$topfixedContent.css({width:e(".LayoutBase-MainContent").width(),top:this.topfixedContentThreshold+"px"})},a.prototype.handleLayoutBottomPadding=function(){if(1===this.$bottomfixedContent.length)if(e("body")[0].scrollHeight>e("body").height()){var t=this.$bottomfixedContent.outerHeight(!0);this.$wrapper.addClass("hasFixedBottom").css("padding-bottom",t+"px"),this.$bottomfixedContent.css({width:e(".LayoutBase-MainContent").outerWidth(!0)})}else this.$wrapper.removeClass("hasFixedBottom").css("padding-bottom",""),this.$bottomfixedContent.css({width:""})},a.prototype.updateThresholds=function(){var e=this.$mainMenu.outerHeight(!0)||0,t=this.$headerBody.outerHeight(!0)||this.$header.outerHeight(!0)||0,i=this.$topfixedContent.outerHeight(!0)||0,n=this.$primaryMenu.outerHeight(!0)||0,a=this.$emergency.outerHeight(!0)||0;this.topfixedContentThreshold=e+t,this.contentThreshold=e+t+i,this.emergencyThreshold=e+t+i+n,this.secondaryThreshold=e+t+i+n+a},a.prototype.getThresholds=function(){return{topfixedContentThreshold:this.topfixedContentThreshold,contentThreshold:this.contentThreshold,emergencyThreshold:this.emergencyThreshold,secondaryThreshold:this.secondaryThreshold}},a.prototype.openSidebarIframe=function(t){var i=t>=0?t:100;this.$iframeSidebar.animate({width:"100%"},i),e("body").css("overflow-y","scroll"),e(".tooltipstered").tooltipster("hide")},a.prototype.closeSidebarIframe=function(t){var i=t>=0?t:100,n=this.isExpandable?40:262;this.$iframeSidebar.animate({width:n},i),e("body").css("overflow-y","scroll")},a.prototype.handleManageQueueCard=function(t,i){const n=e(".ManageQueueContainer");n.length&&(i>t?n.addClass("ManageQueueContainer--closed"):i<t&&n.removeClass("ManageQueueContainer--closed"))},n.LayoutBase={create:function(e){t[e.widgetId]=new a(e),n.LayoutBase.widgetId=e.widgetId},closeSidebarIframe:function(e){t[n.LayoutBase.widgetId].closeSidebarIframe(e)},openSidebarIframe:function(e){t[n.LayoutBase.widgetId].openSidebarIframe(e)},scrollToElement:function(i){var a,o=i;o.length&&(a=setInterval((function(){if(t[n.LayoutBase.widgetId].getThresholds().secondaryThreshold>0){clearInterval(a);var i,s=o.offset().top;e(".LayoutBase-emergency").text()?(e(".LayoutBase-secondary").hasClass("isFixed")?s+=150:s+=80,i=390):(e(".LayoutBase-secondary").hasClass("isFixed")?s+=80:s+=20,i=260),e("body, html").scrollTop(s-i)}}),250))}}}(jQuery,window,document,SapphireWidgets)},function(e,t){$((function(){window.frameElement&&$(this.frameElement).closest(".MainInteractiveCard").length&&$(".LayoutBlank.Page").addClass("MainInteractiveCard")}))},function(e,t){!function(e,t,i,n){var a,o,s,r,l,c,d,u,h=e(".LayoutPopup"),p=t.parent.$(".os-internal-Popup.os-internal-ui-dialog"),f=t.parent.$(".os-internal-ui-dialog-content.os-internal-ui-widget-content"),m=t.parent.$(".os-internal-ui-widget-overlay");const g=function(){clearTimeout(d),d=setTimeout((function(){v(),S(),e("body").css("visibility","visible")}),300)},v=function(){n.LayoutPopup.config.hasClose&&t.parent.$(".os-internal-ui-dialog-titlebar").show(),t.top.$("body").hasClass("LayoutBase")&&t.top.$("body").css({overflowY:"hidden"}),m.width("100%");var i=e(t.parent).height(),d=e(t.parent).width();if("Small"===u)a=parseInt(.33*d),o=400;else if("Medium"===u){switch(n.LayoutPopup.config.PopupWidth){case"XSmall":o=200,c=.2;break;case"Small":o=300,c=.3;break;case"Medium":o=600,c=.6;break;default:o=700,c=.7}a=n.LayoutPopup.config.isTouch?parseInt(.8*d):parseInt(d*c),r=100,l=n.LayoutPopup.config.isTouch?parseInt(.9*i):parseInt(.7*i),s=n.LayoutPopup.config.isFixedHeight?l:t.parent.$(".os-internal-Popup.os-internal-ui-dialog").outerHeight(),f.css({maxHeight:l+"px",minHeight:r+"px",height:s+"px"})}else"Large"===u&&(o=parseInt(.8*d),l=parseInt(.9*i));p.css({position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)",minWidth:o+"px",width:a+"px"})},S=function(){var i=e(".LayoutPopup__body__content"),a=i.scrollTop();"Small"===u&&e(".daterangepicker:visible").length>0||i.css({height:"auto"});var o=e(".LayoutPopup__header").innerHeight()||0,s=e(".LayoutPopup__intro").innerHeight()||0,c=e(".LayoutPopup__body__content")[0].scrollHeight||0,d=e(".LayoutPopup__footer").innerHeight()||0,h=o+s+c+d+40,m=t.parent.$(".os-internal-Popup.os-internal-ui-dialog").outerHeight();if("Small"===u)f.height(h);else if(h<m&&n.LayoutPopup.config.isFixedHeight){var g=m-o-s-d-40;i.height(g)}else if(h<m){if(f.height(h),h<r){var v=r-h;i.height(c+v)}}else if(h>=m&&n.LayoutPopup.config.isFixedHeight){g=m-o-s-d-40;i.height(g)}else if(h>=m)if(h>l){f.height(l);g=l-o-s-d-40;i.height(g)}else f.height(h);else console.warn("Unexpected combination...");var S=e(".daterangepicker:visible");if(1===S.length&&S[0].getBoundingClientRect().bottom>m){var b=S[0].getBoundingClientRect().bottom-m;c=e(".LayoutPopup__body__content").outerHeight(!0);e(".LayoutPopup__body__content").height(c+b+40),f.height(e("body")[0].scrollHeight)}i.scrollTop(a),p.css({height:2*Math.round(p.height()/2)+"px"})};n.LayoutPopup={create:function(a){n.LayoutPopup.config=a,u=n.LayoutPopup.config.PopupSize,e((function(){e("body").addClass("LayoutPopup"),n.LayoutPopup.config.isTouch&&(h.addClass("isTouch"),e("body").addClass("isTouch")),new MutationObserver((function(e){e.forEach((function(e,t){g()}))})).observe(i.body,{childList:!0,subtree:!0,attributes:!1}),e("body").css("visibility","hidden")})),e(t).load((function(){e(this.frameElement).css({width:"100%",height:"100%"}),setTimeout((function(){v(),S(),e("body").css("visibility","visible")}),150),osAjaxBackend.BindAfterAjaxRequest(n.LayoutPopup.redrawDialogWindow)})),e(t.parent).off("resize.LayoutPopup").on("resize.LayoutPopup",(function(){g()}))},resizeDialog:v,resizeContent:S,increaseHeight:function(e){f.height(f.height()+e)},redrawDialogWindow:g,scrollToElement:function(t){var i,n=t;n.length&&(i=setInterval((function(){clearInterval(i);var t=e(".LayoutPopup__header").outerHeight(!0)||0,a=e(".LayoutPopup__intro").outerHeight(!0)||0,o=e(".LayoutPopup__body__content")[0].scrollTop||0,s=n.offset().top-t-a+o-20;e(".LayoutPopup__body__content").scrollTop(s)}),250))}}}(jQuery,window,document,SapphireWidgets),$(window).unload((function(){$(".LayoutPopup").length&&window.top.$("body").css({overflowY:"scroll"})}))},function(e,t){!function(e,t,i){i.ActionsMenu={create:function(i){var n=e("#"+i.triggerElement),a=e("#"+i.contentElement);a.text().length<1&&n.hide(),e((function(){t.setTimeout((function(){var t=i.position;if("AR"===i.locale)switch(i.position){case"right":t="left";break;case"left":t="right";break;case"bottom-left":t="bottom-right";break;case"bottom-right":t="bottom-left";break;case"top-left":t="top-right";break;case"top-right":t="top-left"}n.tooltipster({content:e("<section/>").append(a.clone(!0)),trigger:i.triggerEvent,position:t,maxWidth:i.maxWidth,theme:"tooltipster-location--"+i.location+" ActionsMenu-tooltip Padding--"+i.padding+" Border--"+i.border}),a.remove()}),500)}))}}}(jQuery,window,SapphireWidgets)},function(e,t){SapphireWidgets.ActionsSubMenu=function(e){$(".PatientHeaderActions__subMenu").hasClass("SubMenuBlock")?$(".PatientHeaderActions__subMenu").removeClass("SubMenuBlock"):$(e).parent().siblings().find(".PatientHeaderActions__subMenu").addClass("SubMenuBlock")}},function(e,t){!function(e,t,i){function n(){var t=this,i=[],n=SilkUI.whichTransitionEvent();function a(t){var a=e(t).closest(".CompLine"),o=e(t).closest(".CompLineExpandable"),s=o.children(".CompLine_Expand"),r=a.attr("id"),l=0;o.hasClass("expanded")?(s.addClass("noTransition"),s.height(s.height()),s[0].offsetHeight,s.removeClass("noTransition"),s.height(0),o.removeClass("expanded"),s.css("overflow","hidden"),i[r].client=!1,a.hasClass("notRenderInteractions")&&a.find(".CompLine-toggle-interactions").trigger("click")):(s.height("auto"),l=s.height(),s.height(0),s.height(l),s.css("overflow","hidden"),o.addClass("expanded"),i[r].client=!0,(e(".Page").hasClass("ie8")||e(".Page").hasClass("ie9"))&&(s.height("auto"),s.css("overflow","visible")),s.on(n,(function(){o.hasClass("expanded")&&(s.css("overflow","visible"),s.addClass("noTransition"),s.height("auto"),s[0].offsetHeight,s.removeClass("noTransition"))})),a.hasClass("notRenderInteractions")&&a.find(".CompLine-toggle-interactions").trigger("click"))}t.ajaxRefresh=function(){e(".CompLine_headLine").off(),e(".CompLine_headLine input, .CompLine_headLine select, .CompLine_headLine a").click((function(e){e.stopPropagation()})),e(".CompLine__expandIcon").unbind("click"),e(".CompLine__expandIcon").on("click",(function(){a(this.parentElement)})),e(".CompLineExpandable").each((function(){if(null==i[e(this).closest(".CompLine").attr("id")]){var t=!1;e(this).hasClass("expanded")&&(t=!0),i[e(this).closest(".CompLine").attr("id")]={client:t,server:t}}var n=!1;e(this).hasClass("expanded")&&(n=!0),n!=i[e(this).closest(".CompLine").attr("id")].server?(i[e(this).closest(".CompLine").attr("id")].client=n,i[e(this).closest(".CompLine").attr("id")].server=n):0==i[e(this).closest(".CompLine").attr("id")].client&&e(this).hasClass("expanded")?(e(this).removeClass("expanded"),e(this).children(".CompLine_Expand").height(0)):1!=i[e(this).closest(".CompLine").attr("id")].client||e(this).hasClass("expanded")||e(this).addClass("expanded")}))},t.init=function(){e(".CompLineExpandable").each((function(){var t=!1;e(this).hasClass("expanded")&&(t=!0),i[e(this).closest(".CompLine").attr("id")]={client:t,server:t}})),e(".CompLine__expandIcon").unbind("click"),e(".CompLine__expandIcon").on("click",(function(){a(this.parentElement)})),e(".CompLine_headLine input, .CompLine_headLine select, .CompLine_headLine a").click((function(e){e.stopPropagation()})),osAjaxBackend.BindAfterAjaxRequest(t.ajaxRefresh)}}i.CompLine={create:()=>{SilkUI.SectionExpandable=new n,SilkUI.Execute(SilkUI.SectionExpandable.init,"Error on Sapphirev2_Patters/CompLine")}}}(jQuery,window,SapphireWidgets)},function(e,t){!function(){class e{constructor(e){this.config=e,this.$widget=$(`#${e.widgetId}`),this.$table=this.$widget.find("table"),this.$table.addClass("cell-border compact"),this.onInit()}onInit(){this.options={...this.config,fixedColumns:!0,info:!1,ordering:!1,paging:!1,scrollCollapse:!0,scrollX:!0,searching:!1},$(()=>{this.$table.DataTable(this.options)})}}SapphireWidgets.DataTables={create:t=>window[t.widgetId]=new e(t)}}()},function(e,t){!function(e,t,i,n){var a=[],o=function(t){this.config=t,this.currentLocale=t.currentLocale,this.$widget=e("#"+t.widgetId),this.$widget.addClass("DateTimeRangePicker"),this.$clear=this.$widget.find(".DateTimeRangePicker-clear"),this.$label=this.$widget.find(".DateTimeRangePicker-label"),this.isEmptyHour=!1,this.config.attachToInput?(this.$widget.addClass("attachedInput"),this.$input=this.$widget.find('.DateTimeRangePicker-placeholder input[type="text"]'),this.$displayed=this.$widget.find('.DateTimeRangePicker-displayed input[type="text"]'),this.config.allowsTyping||this.$displayed.prop("readonly",!0)):(this.$input=e("#"+t.inputId),this.config.allowsTyping||this.$input.prop("readonly",!0)),"AR"===this.currentLocale&&moment.locale("ar-kw");var i={};i.startDate=t.startDate,i.singleDatePicker=t.singleDatePicker,i.autoApply=t.autoApply,i.autoUpdateInput=t.autoUpdateInput,i.timePicker=t.timePicker,i.timePicker24Hour=t.timePicker24Hour,i.timePickerIncrement=t.timePickerIncrement,i.showDropdowns=t.hasDropdowns,i.drops=t.drops,i.opens=t.opens;if(t.timePicker?(this.config.attachToInput?this.$displayed.prop("placeholder","DD-MM-YYYY HH:MM"):this.$input.prop("placeholder","DD-MM-YYYY HH:MM"),i.timePicker24Hour?(this.config.formatInput="DD-MM-YYYY HH:mm",this.config.formatLabel=this.config.hasYearWhenText?"D MMM YYYY[, at] HH:mm":"D MMM[, at] HH:mm"):(this.config.formatInput="DD-MM-YYYY hh:mm A",this.config.formatLabel=this.config.hasYearWhenText?"D MMM YYYY[, at] hh:mm A":"D MMM[, at] hh:mm A")):(this.$widget.addClass("onlyDate"),this.config.attachToInput?this.$displayed.prop("placeholder","DD-MM-YYYY"):this.$input.prop("placeholder","DD-MM-YYYY"),this.config.formatInput="DD-MM-YYYY",this.config.formatLabel=this.config.hasYearWhenText?"D MMM YYYY":"D MMM"),this.config.formatLabel=this.config.hasWeekDayNameWhenText?"ddd[, ]"+this.config.formatLabel:this.config.formatLabel,i.locale={direction:"AR"===t.currentLocale?"rtl":"ltr",format:this.config.formatInput,cancelLabel:"Cancel",applyLabel:"Apply"},t.hasTextTrigger&&this.$widget.addClass("textTrigger"),t.endDate&&"01-01-1900 00:00:00"!==t.endDate&&(i.endDate=t.endDate),t.maxDate&&"01-01-1900 00:00:00"!==t.maxDate&&(i.maxDate=t.maxDate),t.minDate&&"01-01-1900 00:00:00"!==t.minDate&&(i.minDate=t.minDate),t.DisabledWeekDays){var n=t.DisabledWeekDays.split(",");i.isInvalidDate=function(e){return n.includes(moment(e).day().toString())}}this.$input.daterangepicker(i,(function(e,t,i){})),this.picker=this.$input.data("daterangepicker"),this.$calendar=e(this.picker.container),this.config.cssClass&&this.$calendar.addClass(this.config.cssClass),this.$timeHolder=this.$calendar.find(".calendar-time"),this.$buttonsHolder=this.$calendar.find(".drp-buttons"),this.config.autoApply&&this.$buttonsHolder.hide(),t.isEmptyStartDate?this.clear(!1):t.isEmptyStartHour?(this.isEmptyHour=!0,this.updateLabeling()):this.updateLabeling(),t.enabled?(this.nativeEvents(),this.customEvents()):(this.$clear.hide(),this.$input.off("click focus keydown keyup")),this.config.attachToInput&&this.handleCustomValidation()};o.prototype.handleCustomValidation=function(){var e=this.$input.next().text();e.length?(this.$displayed.addClass("Not_Valid"),this.$displayed.next().show().text(e)):(this.$displayed.removeClass("Not_Valid"),this.$displayed.next().hide())},o.prototype.nativeEvents=function(){var e=this;this.$input.on("showCalendar.daterangepicker",(function(t,i){e.config.hasGoToday&&(e.$calendar.find(".calendar-table thead tr").eq(0).after('<tr><td colspan="7" class="DateTimeRangePicker-calendar-gotoday">Today</td></tr>'),"up"===e.config.drops&&e.$calendar.css("top",e.$calendar.offset().top-24)),e.handleViewportPosition()})),this.$input.on("show.daterangepicker",(function(t,i){e.config.timePicker&&e.config.hasClearHour&&(e.$calendar.find(".calendar-time").append('<span class="DateTimeRangePicker-calendar-clear"></span>'),e.isEmptyHour?(e.$timeHolder.css("opacity",.5),e.$calendar.find(".DateTimeRangePicker-calendar-clear").addClass("disabled")):(e.$timeHolder.css("opacity",1),e.$calendar.find(".DateTimeRangePicker-calendar-clear").removeClass("disabled"))),e.handleViewportPosition(),n.DateTimeRangePicker.openedWidgetId=e.config.widgetId})),this.$input.on("hide.daterangepicker",(function(t,i){e.$calendar.find(".DateTimeRangePicker-calendar-clear").remove(),e.updateParentIframe()})),this.$input.on("cancel.daterangepicker",(function(e,t){})),this.$input.on("outsideClick.daterangepicker",(function(e,t){})),this.$input.on("timechanged.daterangepicker",(function(t,i){e.isEmptyHour=!1,e.$timeHolder.css("opacity",1),e.config.hasClearHour&&e.$calendar.find(".calendar-time").append('<span class="DateTimeRangePicker-calendar-clear"></span>'),e.config.autoApply&&(e.$clear.removeClass("disabled"),e.updateLabeling(),e.sendNotification())})),this.$input.on("clickDate.daterangepicker",(function(t,i){e.config.autoApply&&(e.$clear.removeClass("disabled"),e.updateLabeling(),e.sendNotification())})),this.$input.on("apply.daterangepicker",(function(t,i){e.$clear.removeClass("disabled"),e.updateLabeling(),e.sendNotification()}))},o.prototype.customEvents=function(){var e=this;this.$label.off("click").on("click",(function(t){e.picker.toggle()})),this.$clear.off("click").on("click",(function(t){e.clear(),e.picker.hide()})),this.$calendar.on("click",".DateTimeRangePicker-calendar-clear",(function(){e.config.timePicker24Hour?e.$calendar.find(".hourselect").val("0").trigger("change"):e.$calendar.find(".hourselect").val("12").trigger("change"),e.$calendar.find(".minuteselect").val("0").trigger("change"),e.$calendar.find(".ampmselect").val("AM").trigger("change"),e.isEmptyHour=!0,e.$timeHolder.css("opacity",.5),e.$calendar.find(".DateTimeRangePicker-calendar-clear").addClass("disabled")})),this.$calendar.on("click",".DateTimeRangePicker-calendar-gotoday",(function(){e.picker.setStartDate(moment()),e.picker.setEndDate(moment()),e.picker.hide(),(!e.config.autoUpdateInput||e.config.hasTextTrigger||e.config.attachToInput)&&e.updateLabeling(),e.sendNotification()})),this.config.attachToInput?(this.$displayed.on("click focus",(function(){e.$input.trigger("click")})),this.$displayed.on("keyup",(function(t){e.$input.val(e.$displayed.val()).trigger("keyup")})),this.$displayed.on("keydown",(function(t){e.$input.val(e.$displayed.val()).trigger("keydown")})),this.config.attachToInput&&this.config.allowsTyping&&this.$input.on("keyup",(function(t){e.$displayed.val(e.$input.val())}))):this.$input.on("click",(function(){t.setTimeout((function(){e.updateParentIframe()}),50)}))},o.prototype.updateLabeling=function(){var e=this.config.formatLabel,t=this.config.formatInput;moment(this.picker.startDate).isSame(moment(),"day")&&(e.includes("D MMM YYYY")?e=e.replace("D MMM YYYY","[Today]"):e.includes("D MMM")?e=e.replace("D MMM","[Today]"):console.log("Something wrong with the labelMask",e)),this.isEmptyHour?(e=e.replace("hh:mm A","[--:--]").replace("HH:mm","[--:--]"),t=t.replace("hh:mm A","[--:--]").replace("HH:mm","[--:--]"),this.config.hasTextTrigger?(this.$label.html(this.picker.startDate.format(e)),this.config.timePicker?this.$input.val(this.picker.startDate.format("DD-MM-YYYY [00:00:00]")):this.$input.val(this.picker.startDate.format("DD-MM-YYYY"))):(this.$input.val(this.picker.startDate.format("DD-MM-YYYY [00:00:00]")),this.config.attachToInput&&this.$displayed.val(this.picker.startDate.format(t)))):this.config.hasTextTrigger?(this.$label.html(this.picker.startDate.format(e)),this.config.timePicker?this.$input.val(this.picker.startDate.format("DD-MM-YYYY HH:mm:ss")):this.$input.val(this.picker.startDate.format("DD-MM-YYYY"))):this.config.attachToInput?(this.$displayed.val(this.picker.startDate.format(this.config.formatInput)),this.config.timePicker?this.$input.val(this.picker.startDate.format("DD-MM-YYYY HH:mm:ss")):this.$input.val(this.picker.startDate.format("DD-MM-YYYY"))):this.$input.val(this.picker.startDate.format(this.config.formatInput))},o.prototype.handleViewportPosition=function(){if(!(t.frameElement&&(e(t.frameElement.parentElement).hasClass("tooltipster-content")||e(t.frameElement.parentElement).hasClass("os-internal-ui-dialog-content"))||this.isInViewport())){var n=this.$calendar[0].getBoundingClientRect();if(this.$calendar.hasClass("drop-up")&&this.$calendar[0].getBoundingClientRect().top<0){var a=t.scrollY+n.bottom+this.$input.height()+7;this.$calendar.removeClass("drop-up").addClass("drop-down").css("top",a)}else if(!this.$calendar.hasClass("drop-up")&&this.$calendar[0].getBoundingClientRect().bottom>(t.innerHeight||i.documentElement.clientHeight)){a=t.scrollY+n.top-n.height-this.$input.height()-7;this.$calendar.addClass("drop-up").css("top",a)}}},o.prototype.isInViewport=function(){var e=this.$calendar[0].getBoundingClientRect();return e.top>=0&&e.bottom<=(t.innerHeight+5||i.documentElement.clientHeight+5)},o.prototype.clear=function(e){this.picker.setStartDate(moment()),this.picker.setEndDate(moment()),this.isEmptyHour=!1,this.$clear.addClass("disabled"),this.config.hasTextTrigger?this.$label.html("-- -- --"):(this.$input.val(""),this.config.attachToInput&&this.$displayed.val("")),(e||null==e)&&this.sendNotification(!1)},o.prototype.show=function(){this.picker.show()},o.prototype.hide=function(){this.picker.hide()},o.prototype.cancel=function(){this.picker.clickCancel()},o.prototype.sendNotification=function(e){if(this.$widget.hasClass("attachedInput"))return this.$input.trigger("change"),!1;e||null==e?this.isEmptyHour?OsNotifyWidget(this.config.dateTimeRangePickerFakeNotifyId,this.picker.startDate.format("DD-MM-YYYY [00:00:00]")+"|"+this.isEmptyHour):this.config.timePicker?OsNotifyWidget(this.config.dateTimeRangePickerFakeNotifyId,this.picker.startDate.format("DD-MM-YYYY HH:mm:ss")+"|"+this.isEmptyHour):OsNotifyWidget(this.config.dateTimeRangePickerFakeNotifyId,this.picker.startDate.format("DD-MM-YYYY")+"|"+this.isEmptyHour):OsNotifyWidget(this.config.dateTimeRangePickerFakeNotifyId,"null|true")},o.prototype.updateParentIframe=function(){"object"==typeof n.ResizeParentIframe&&n.ResizeParentIframe.resize(),1===e(".Page.LayoutPopup").length&&n.LayoutPopup.redrawDialogWindow()},n.DateTimeRangePicker={create:function(e){for(var i=0;i<a.length;i++)a[i].config.widgetId===e.widgetId&&a.splice(i,1);t[e.widgetId]=new o(e),a.push(t[e.widgetId])},all:function(){return a}}}(jQuery,window,document,SapphireWidgets)},function(e,t){!function(e,t,i){i.DropdownCategories={optGroupSetValue:function(t,i,n){var a=document.getElementById(t).value;e("#"+i).val(a),e("#"+t+" option[selected]").removeAttr("selected"),a>-1&&e("#"+t+' option[value="'+a+'"]').attr("selected","selected"),e("#"+n).click(),e("#s2id_"+t).removeClass("select2-container-active")},OsCustomValidatorOptGroup:function(t,i){var n=e("#"+t.controltovalidate),a=n.find("option[selected]").length;return n.prev("div.select2-container.Mandatory").length&&(a?n.prev("div.select2-container.Mandatory").removeClass("Not_Valid"):n.prev("div.select2-container.Mandatory").addClass("Not_Valid")),a},addOptGroupValidator:function(e){OsPage_Validators.push({controltovalidate:e,enabled:!0,errormessage:"Required field!",evaluationfunction:"SapphireWidgets.DropdownCategories.OsCustomValidatorOptGroup",initialvalue:"",isvalid:!0})}}}(jQuery,window,SapphireWidgets)},function(e,t,i){"use strict";(function(e){var t=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){n(this,e)}return t(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var o=t,s=!0,r=0;for(o=s?o:o[Symbol.iterator]();;){var l;if(s){if(r>=o.length)break;l=o[r++]}else{if((r=o.next()).done)break;l=r.value}var c=l;c.apply(this,n)}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var n=0;n<i.length;n++){var a=i[n];if(a===t){i.splice(n,1);break}}return this}}]),e}(),o=function(e){function o(e,t){n(this,o);var a,s=i(this,(o.__proto__||Object.getPrototypeOf(o)).call(this)),r=void 0;if(s.element=e,s.version=o.version,s.defaultOptions.previewTemplate=s.defaultOptions.previewTemplate.replace(/\n*/g,""),s.clickableElements=[],s.listeners=[],s.files=[],"string"==typeof s.element&&(s.element=document.querySelector(s.element)),!s.element||null==s.element.nodeType)throw new Error("Invalid dropzone element.");if(s.element.dropzone)throw new Error("Dropzone already attached.");o.instances.push(s),s.element.dropzone=s;var l,c=null!=(a=o.optionsForElement(s.element))?a:{};if(s.options=o.extend({},s.defaultOptions,c,null!=t?t:{}),s.options.forceFallback||!o.isBrowserSupported())return l=s.options.fallback.call(s),i(s,l);if(null==s.options.url&&(s.options.url=s.element.getAttribute("action")),!s.options.url)throw new Error("No URL provided.");if(s.options.acceptedFiles&&s.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(s.options.uploadMultiple&&s.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return s.options.acceptedMimeTypes&&(s.options.acceptedFiles=s.options.acceptedMimeTypes,delete s.options.acceptedMimeTypes),null!=s.options.renameFilename&&(s.options.renameFile=function(e){return s.options.renameFilename.call(s,e.name,e)}),s.options.method=s.options.method.toUpperCase(),(r=s.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),!1!==s.options.previewsContainer&&(s.options.previewsContainer?s.previewsContainer=o.getElement(s.options.previewsContainer,"previewsContainer"):s.previewsContainer=s.element),s.options.clickable&&(!0===s.options.clickable?s.clickableElements=[s.element]:s.clickableElements=o.getElements(s.options.clickable,"clickable")),s.init(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),t(o,null,[{key:"initClass",value:function(){this.prototype.Emitter=a,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var t=0,i=i=this.element.getElementsByTagName("div");;){if(t>=i.length)break;var n=i[t++];if(/(^| )dz-message($| )/.test(n.className)){e=n,n.className="dz-message";break}}e||(e=o.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var a=e.getElementsByTagName("span")[0];return a&&(null!=a.textContent?a.textContent=this.options.dictFallbackMessage:null!=a.innerText&&(a.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,i,n){var a={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},o=e.width/e.height;null==t&&null==i?(t=a.srcWidth,i=a.srcHeight):null==t?t=i*o:null==i&&(i=t/o);var s=(t=Math.min(t,a.srcWidth))/(i=Math.min(i,a.srcHeight));if(a.srcWidth>t||a.srcHeight>i)if("crop"===n)o>s?(a.srcHeight=e.height,a.srcWidth=a.srcHeight*s):(a.srcWidth=e.width,a.srcHeight=a.srcWidth/s);else{if("contain"!==n)throw new Error("Unknown resizeMethod '"+n+"'");o>s?i=t/o:t=i*o}return a.srcX=(e.width-a.srcWidth)/2,a.srcY=(e.height-a.srcHeight)/2,a.trgWidth=t,a.trgHeight=i,a},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=o.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);for(var i=0,n=n=e.previewElement.querySelectorAll("[data-dz-name]");;){if(i>=n.length)break;var a=n[i++];a.textContent=e.name}for(var s=0,r=r=e.previewElement.querySelectorAll("[data-dz-size]");!(s>=r.length);)(a=r[s++]).innerHTML=this.filesize(e.size);this.options.addRemoveLinks&&(e._removeLink=o.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink));for(var l=function(i){return i.preventDefault(),i.stopPropagation(),e.status===o.UPLOADING?o.confirm(t.options.dictCancelUploadConfirmation,(function(){return t.removeFile(e)})):t.options.dictRemoveFileConfirmation?o.confirm(t.options.dictRemoveFileConfirmation,(function(){return t.removeFile(e)})):t.removeFile(e)},c=0,d=d=e.previewElement.querySelectorAll("[data-dz-remove]");;){if(c>=d.length)break;d[c++].addEventListener("click",l)}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");for(var i=0,n=n=e.previewElement.querySelectorAll("[data-dz-thumbnail]");;){if(i>=n.length)break;var a=n[i++];a.alt=e.name,a.src=t}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);for(var i=0,n=n=e.previewElement.querySelectorAll("[data-dz-errormessage]");;){if(i>=n.length)break;n[i++].textContent=t}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,i){if(e.previewElement)for(var n=0,a=a=e.previewElement.querySelectorAll("[data-dz-uploadprogress]");;){if(n>=a.length)break;var o=a[n++];"PROGRESS"===o.nodeName?o.value=t:o.style.width=t+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var a=i,o=!0,s=0;for(a=o?a:a[Symbol.iterator]();;){var r;if(o){if(s>=a.length)break;r=a[s++]}else{if((s=a.next()).done)break;r=s.value}var l=r;for(var c in l){var d=l[c];e[c]=d}}return e}}]),t(o,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(o.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(o.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(o.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(e){return e.status===o.UPLOADING||e.status===o.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var e=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(o.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){!function t(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",(function(){var i=e.hiddenFileInput.files;if(i.length)for(var n=0,a=a=i;;){if(n>=a.length)break;var o=a[n++];e.addFile(o)}return e.emit("addedfiles",i),t()}))}()}this.URL=null!==window.URL?window.URL:window.webkitURL;for(var t=0,i=i=this.events;;){if(t>=i.length)break;var n=i[t++];this.on(n,this.options[n])}this.on("uploadprogress",(function(){return e.updateTotalUploadProgress()})),this.on("removedfile",(function(){return e.updateTotalUploadProgress()})),this.on("canceled",(function(t){return e.emit("complete",t)})),this.on("complete",(function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}));var a=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return a(t),e.emit("dragenter",t)},dragover:function(t){var i=void 0;try{i=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",a(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return a(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach((function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||o.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,o.instances.splice(o.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,i=0;if(this.getActiveFiles().length){for(var n=0,a=a=this.getActiveFiles();;){if(n>=a.length)break;var o=a[n++];t+=o.upload.bytesSent,i+=o.upload.total}e=100*t/i}else e=100;return this.emit("totaluploadprogress",e,i,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,t=void 0;if(e=this.getExistingFallback())return e;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var n=o.createElement(i);return"FORM"!==this.element.tagName?(t=o.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(n):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:n}},{key:"getExistingFallback",value:function(){for(var e=function(e){for(var t=0,i=i=e;;){if(t>=i.length)break;var n=i[t++];if(/(^| )fallback($| )/.test(n.className))return n}},t=["div","form"],i=0;i<t.length;i++){var n,a=t[i];if(n=e(this.element.getElementsByTagName(a)))return n}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var i in e.events){var n=e.events[i];t.push(e.element.addEventListener(i,n,!1))}return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var i in e.events){var n=e.events[i];t.push(e.element.removeEventListener(i,n,!1))}return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,i="b";if(e>0){for(var n=["tb","gb","mb","kb","b"],a=0;a<n.length;a++){var o=n[a];if(e>=Math.pow(this.options.filesizeBase,4-a)/10){t=e/Math.pow(this.options.filesizeBase,4-a),i=o;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[i]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);var t=e.dataTransfer.files;if(this.emit("addedfiles",t),t.length){var i=e.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(null!=(t=null!=e?e.clipboardData:void 0,i=function(e){return e.items},null!=t?i(t):void 0)){var t,i;this.emit("paste",e);var n=e.clipboardData.items;return n.length?this._addFilesFromItems(n):void 0}}},{key:"handleFiles",value:function(e){var t=this;return e.map((function(e){return t.addFile(e)}))}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){for(var i=[],n=0,a=a=e;;){if(n>=a.length)break;var o,s=a[n++];null!=s.webkitGetAsEntry&&(o=s.webkitGetAsEntry())?o.isFile?i.push(t.addFile(s.getAsFile())):o.isDirectory?i.push(t._addFilesFromDirectory(o,o.name)):i.push(void 0):null!=s.getAsFile&&(null==s.kind||"file"===s.kind)?i.push(t.addFile(s.getAsFile())):i.push(void 0)}return i}()}},{key:"_addFilesFromDirectory",value:function(e,t){var i=this,n=e.createReader(),a=function(e){return t=console,i="log",n=function(t){return t.log(e)},null!=t&&"function"==typeof t[i]?n(t,i):void 0;var t,i,n};return function e(){return n.readEntries((function(n){if(n.length>0){for(var a=0,o=o=n;;){if(a>=o.length)break;var s=o[a++];s.isFile?s.file((function(e){if(!i.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,i.addFile(e)})):s.isDirectory&&i._addFilesFromDirectory(s,t+"/"+s.name)}e()}return null}),a)}()}},{key:"accept",value:function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):o.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var t=this;return e.upload={uuid:o.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)},this.files.push(e),e.status=o.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){for(var t=0,i=i=e;;){if(t>=i.length)break;var n=i[t++];this.enqueueFile(n)}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==o.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=o.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return t.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(i){return e.emit("thumbnail",t,i),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(e){if(e.status===o.UPLOADING&&this.cancelUpload(e),this.files=s(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);for(var t=0,i=i=this.files.slice();;){if(t>=i.length)break;var n=i[t++];(n.status!==o.UPLOADING||e)&&this.removeFile(n)}return null}},{key:"resizeImage",value:function(e,t,i,n,a){var s=this;return this.createThumbnail(e,t,i,n,!1,(function(t,i){if(null===i)return a(e);var n=s.options.resizeMimeType;null==n&&(n=e.type);var r=i.toDataURL(n,s.options.resizeQuality);return"image/jpeg"!==n&&"image/jpg"!==n||(r=c.restore(e.dataURL,r)),a(o.dataURItoBlob(r))}))}},{key:"createThumbnail",value:function(e,t,i,n,a,o){var s=this,r=new FileReader;return r.onload=function(){if(e.dataURL=r.result,"image/svg+xml"!==e.type)return s.createThumbnailFromUrl(e,t,i,n,a,o);null!=o&&o(r.result)},r.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,i,n,a,o,s){var r=this,c=document.createElement("img");return s&&(c.crossOrigin=s),c.onload=function(){var s=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&a&&(s=function(e){return EXIF.getData(c,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),s((function(a){e.width=c.width,e.height=c.height;var s=r.options.resize.call(r,e,t,i,n),d=document.createElement("canvas"),u=d.getContext("2d");switch(d.width=s.trgWidth,d.height=s.trgHeight,a>4&&(d.width=s.trgHeight,d.height=s.trgWidth),a){case 2:u.translate(d.width,0),u.scale(-1,1);break;case 3:u.translate(d.width,d.height),u.rotate(Math.PI);break;case 4:u.translate(0,d.height),u.scale(1,-1);break;case 5:u.rotate(.5*Math.PI),u.scale(1,-1);break;case 6:u.rotate(.5*Math.PI),u.translate(0,-d.height);break;case 7:u.rotate(.5*Math.PI),u.translate(d.width,-d.height),u.scale(-1,1);break;case 8:u.rotate(-.5*Math.PI),u.translate(-d.width,0)}l(u,c,null!=s.srcX?s.srcX:0,null!=s.srcY?s.srcY:0,s.srcWidth,s.srcHeight,null!=s.trgX?s.trgX:0,null!=s.trgY?s.trgY:0,s.trgWidth,s.trgHeight);var h=d.toDataURL("image/png");if(null!=o)return o(h,d)}))},null!=o&&(c.onerror=o),c.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,i=t;if(!(t>=e)){var n=this.getQueuedFiles();if(n.length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-t));for(;i<e;){if(!n.length)return;this.processFile(n.shift()),i++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){for(var t=0,i=i=e;;){if(t>=i.length)break;var n=i[t++];n.processing=!0,n.status=o.UPLOADING,this.emit("processing",n)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(e){if(e.status===o.UPLOADING){for(var t=this._getFilesWithXhr(e.xhr),i=0,n=n=t;;){if(i>=n.length)break;n[i++].status=o.CANCELED}void 0!==e.xhr&&e.xhr.abort();for(var a=0,s=s=t;;){if(a>=s.length)break;var r=s[a++];this.emit("canceled",r)}this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else e.status!==o.ADDED&&e.status!==o.QUEUED||(e.status=o.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.apply(this,i)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var t=this;this._transformFiles(e,(function(i){if(e[0].upload.chunked){var n=e[0],a=i[0];n.upload.chunks=[];var s=function(){for(var i=0;void 0!==n.upload.chunks[i];)i++;if(!(i>=n.upload.totalChunkCount)){0;var s=i*t.options.chunkSize,r=Math.min(s+t.options.chunkSize,n.size),l={name:t._getParamName(0),data:a.webkitSlice?a.webkitSlice(s,r):a.slice(s,r),filename:n.upload.filename,chunkIndex:i};n.upload.chunks[i]={file:n,index:i,dataBlock:l,status:o.UPLOADING,progress:0,retries:0},t._uploadData(e,[l])}};if(n.upload.finishedChunkUpload=function(i){var a=!0;i.status=o.SUCCESS,i.dataBlock=null;for(var r=0;r<n.upload.totalChunkCount;r++){if(void 0===n.upload.chunks[r])return s();n.upload.chunks[r].status!==o.SUCCESS&&(a=!1)}a&&t.options.chunksUploaded(n,(function(){t._finished(e,"",null)}))},t.options.parallelChunkUploads)for(var r=0;r<n.upload.totalChunkCount;r++)s();else s()}else{for(var l=[],c=0;c<e.length;c++)l[c]={name:t._getParamName(c),data:i[c],filename:e[c].upload.filename};t._uploadData(e,l)}}))}},{key:"_getChunk",value:function(e,t){for(var i=0;i<e.upload.totalChunkCount;i++)if(void 0!==e.upload.chunks[i]&&e.upload.chunks[i].xhr===t)return e.upload.chunks[i]}},{key:"_uploadData",value:function(e,t){for(var i=this,n=new XMLHttpRequest,a=0,s=s=e;;){if(a>=s.length)break;s[a++].xhr=n}e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=n);var r=this.resolveOption(this.options.method,e),l=this.resolveOption(this.options.url,e);n.open(r,l,!0),n.timeout=this.resolveOption(this.options.timeout,e),n.withCredentials=!!this.options.withCredentials,n.onload=function(t){i._finishedUploading(e,n,t)},n.onerror=function(){i._handleUploadError(e,n)},(null!=n.upload?n.upload:n).onprogress=function(t){return i._updateFilesUploadProgress(e,n,t)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&o.extend(c,this.options.headers),c){var u=c[d];u&&n.setRequestHeader(d,u)}var h=new FormData;if(this.options.params){var p=this.options.params;for(var f in"function"==typeof p&&(p=p.call(this,e,n,e[0].upload.chunked?this._getChunk(e[0],n):null)),p){var m=p[f];h.append(f,m)}}for(var g=0,v=v=e;;){if(g>=v.length)break;var S=v[g++];this.emit("sending",S,n,h)}this.options.uploadMultiple&&this.emit("sendingmultiple",e,n,h),this._addFormElementData(h);for(var b=0;b<t.length;b++){var C=t[b];h.append(C.name,C.data,C.filename)}this.submitRequest(n,h,e)}},{key:"_transformFiles",value:function(e,t){for(var i=this,n=[],a=0,o=function(o){i.options.transformFile.call(i,e[o],(function(i){n[o]=i,++a===e.length&&t(n)}))},s=0;s<e.length;s++)o(s)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName)for(var t=0,i=i=this.element.querySelectorAll("input, textarea, select, button");;){if(t>=i.length)break;var n=i[t++],a=n.getAttribute("name"),o=n.getAttribute("type");if(o&&(o=o.toLowerCase()),null!=a)if("SELECT"===n.tagName&&n.hasAttribute("multiple"))for(var s=0,r=r=n.options;;){if(s>=r.length)break;var l=r[s++];l.selected&&e.append(a,l.value)}else(!o||"checkbox"!==o&&"radio"!==o||n.checked)&&e.append(a,n.value)}}},{key:"_updateFilesUploadProgress",value:function(e,t,i){var n=void 0;if(void 0!==i){if(n=100*i.loaded/i.total,e[0].upload.chunked){var a=e[0],o=this._getChunk(a,t);o.progress=n,o.total=i.total,o.bytesSent=i.loaded;a.upload.progress=0,a.upload.total=0,a.upload.bytesSent=0;for(var s=0;s<a.upload.totalChunkCount;s++)void 0!==a.upload.chunks[s]&&void 0!==a.upload.chunks[s].progress&&(a.upload.progress+=a.upload.chunks[s].progress,a.upload.total+=a.upload.chunks[s].total,a.upload.bytesSent+=a.upload.chunks[s].bytesSent);a.upload.progress=a.upload.progress/a.upload.totalChunkCount}else for(var r=0,l=l=e;;){if(r>=l.length)break;var c=l[r++];c.upload.progress=n,c.upload.total=i.total,c.upload.bytesSent=i.loaded}for(var d=0,u=u=e;;){if(d>=u.length)break;var h=u[d++];this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent)}}else{var p=!0;n=100;for(var f=0,m=m=e;;){if(f>=m.length)break;var g=m[f++];100===g.upload.progress&&g.upload.bytesSent===g.upload.total||(p=!1),g.upload.progress=n,g.upload.bytesSent=g.upload.total}if(p)return;for(var v=0,S=S=e;;){if(v>=S.length)break;var b=S[v++];this.emit("uploadprogress",b,n,b.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,t,i){var n=void 0;if(e[0].status!==o.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(n=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{n=JSON.parse(n)}catch(e){i=e,n="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,n,i):this._handleUploadError(e,t,n)}}},{key:"_handleUploadError",value:function(e,t,i){if(e[0].status!==o.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var n=this._getChunk(e[0],t);if(n.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[n.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(var a=0,s=s=e;;){if(a>=s.length)break;s[a++];this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}}},{key:"submitRequest",value:function(e,t,i){e.send(t)}},{key:"_finished",value:function(e,t,i){for(var n=0,a=a=e;;){if(n>=a.length)break;var s=a[n++];s.status=o.SUCCESS,this.emit("success",s,t,i),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,i){for(var n=0,a=a=e;;){if(n>=a.length)break;var s=a[n++];s.status=o.ERROR,this.emit("error",s,t,i),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),o}(a);o.initClass(),o.version="5.2.0",o.options={},o.optionsForElement=function(e){return e.getAttribute("id")?o.options[r(e.getAttribute("id"))]:void 0},o.instances=[],o.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},o.autoDiscover=!0,o.discover=function(){var e=void 0;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){for(var i=[],n=0,a=a=t;;){if(n>=a.length)break;var o=a[n++];/(^| )dropzone($| )/.test(o.className)?i.push(e.push(o)):i.push(void 0)}return i}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){for(var t=[],i=0,n=n=e;;){if(i>=n.length)break;var a=n[i++];!1!==o.optionsForElement(a)?t.push(new o(a)):t.push(void 0)}return t}()},o.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],o.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var t=0,i=i=o.blacklistedBrowsers;;){if(t>=i.length)break;i[t++].test(navigator.userAgent)&&(e=!1)}else e=!1;else e=!1;return e},o.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),a=new Uint8Array(n),o=0,s=t.length,r=0<=s;r?o<=s:o>=s;r?o++:o--)a[o]=t.charCodeAt(o);return new Blob([n],{type:i})};var s=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},r=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};o.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},o.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},o.getElement=function(e,t){var i=void 0;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},o.getElements=function(e,t){var i=void 0,n=void 0;if(e instanceof Array){n=[];try{for(var a=0,o=o=e;!(a>=o.length);)i=o[a++],n.push(this.getElement(i,t))}catch(e){n=null}}else if("string"==typeof e){n=[];for(var s=0,r=r=document.querySelectorAll(e);!(s>=r.length);)i=r[s++],n.push(i)}else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},o.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},o.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");for(var i=e.type,n=i.replace(/\/.*$/,""),a=0,o=o=t;;){if(a>=o.length)break;var s=o[a++];if("."===(s=s.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(n===s.replace(/\/.*$/,""))return!0}else if(i===s)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each((function(){return new o(this,e)}))}),null!==e?e.exports=o:window.Dropzone=o,o.ADDED="added",o.QUEUED="queued",o.ACCEPTED=o.QUEUED,o.UPLOADING="uploading",o.PROCESSING=o.UPLOADING,o.CANCELED="canceled",o.ERROR="error",o.SUCCESS="success";var l=function(e,t,i,n,a,o,s,r,l,c){var d=function(e){e.naturalWidth;var t=e.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=t;var n=i.getContext("2d");n.drawImage(e,0,0);for(var a=n.getImageData(1,0,1,t).data,o=0,s=t,r=t;r>o;){0===a[4*(r-1)+3]?s=r:o=r,r=s+o>>1}var l=r/t;return 0===l?1:l}(t);return e.drawImage(t,i,n,a,o,s,r,l,c/d)},c=function(){function e(){n(this,e)}return t(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",i=void 0,n=void 0,a="",o=void 0,s=void 0,r=void 0,l="",c=0;o=(i=e[c++])>>2,s=(3&i)<<4|(n=e[c++])>>4,r=(15&n)<<2|(a=e[c++])>>6,l=63&a,isNaN(n)?r=l=64:isNaN(a)&&(l=64),t=t+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(l),i=n=a="",o=s=r=l="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var i=this.decode64(e.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(i),a=this.exifManipulation(t,n);return"data:image/jpeg;base64,"+this.encode64(a)}},{key:"exifManipulation",value:function(e,t){var i=this.getExifArray(t),n=this.insertExif(e,i);return new Uint8Array(n)}},{key:"getExifArray",value:function(e){for(var t=void 0,i=0;i<e.length;){if(255===(t=e[i])[0]&225===t[1])return t;i++}return[]}},{key:"insertExif",value:function(e,t){var i=e.replace("data:image/jpeg;base64,",""),n=this.decode64(i),a=n.indexOf(255,3),o=n.slice(0,a),s=n.slice(a),r=o;return r=(r=r.concat(t)).concat(s)}},{key:"slice2Segments",value:function(e){for(var t=0,i=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var n=t+(256*e[t+2]+e[t+3])+2,a=e.slice(t,n);i.push(a),t=n}if(t>e.length)break}return i}},{key:"decode64",value:function(e){var t=void 0,i=void 0,n="",a=void 0,o=void 0,s="",r=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(r++))<<2|(a=this.KEY_STR.indexOf(e.charAt(r++)))>>4,i=(15&a)<<4|(o=this.KEY_STR.indexOf(e.charAt(r++)))>>2,n=(3&o)<<6|(s=this.KEY_STR.indexOf(e.charAt(r++))),l.push(t),64!==o&&l.push(i),64!==s&&l.push(n),t=i=n="",a=o=s="",r<e.length;);return l}}]),e}();c.initClass();o._autoDiscoverFunction=function(){if(o.autoDiscover)return o.discover()},function(e,t){var i=!1,n=!0,a=e.document,o=a.documentElement,s=a.addEventListener?"addEventListener":"attachEvent",r=a.addEventListener?"removeEventListener":"detachEvent",l=a.addEventListener?"":"on",c=function n(o){if("readystatechange"!==o.type||"complete"===a.readyState)return("load"===o.type?e:a)[r](l+o.type,n,!1),!i&&(i=!0)?t.call(e,o.type||o):void 0};if("complete"!==a.readyState){if(a.createEventObject&&o.doScroll){try{n=!e.frameElement}catch(e){}n&&function e(){try{o.doScroll("left")}catch(t){return void setTimeout(e,50)}return c("poll")}()}a[s](l+"DOMContentLoaded",c,!1),a[s](l+"readystatechange",c,!1),e[s](l+"load",c,!1)}}(window,o._autoDiscoverFunction),SapphireWidgets.Dropzone=o}).call(this,i(18)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){!function(e,t,i){const n=t=>{e(`#${t} .ExpandableLink__Header`).click(()=>a(`#${t}`))},a=t=>e(t).toggleClass("ExpandableLink--expanded");i.ExpandableLink={create:t=>{const i=e(`#${t}`);if(i.parent(".ExpandableList").hasClass("HideWhenEmpty")){0===i.find(".ExpandableLink__Content").text().length&&i.parent(".ExpandableList").hide()}n(t)}}}(jQuery,window,SapphireWidgets)},function(e,t){SapphireWidgets.FullScreenTabsWrapper=()=>{$(document).ready((function(){$(".TabWrapper").click((function(){$(this).closest(".FullScreenTabsWrapper__Tabs").find("*").removeClass("Active"),$(this).addClass("Active")}))}))}},function(e,t){!function(e,t,i,n){var a=[],o=function(e){for(var i=0;i<a.length;i++)a[i].config.widgetId===e.widgetId&&a.splice(i,1);t[e.widgetId]=new s(e),a.push(t[e.widgetId])},s=function(t){var i=this;this.config=t,this.genericGalleryResizeTimer=0,this.$widget=e("#"+this.config.widgetId).css("display","block"),this.equalHeight=this.config.equalHeight,1===this.$widget.find(".GenericGallery-content > span").length&&this.$widget.find(".GenericGallery-content > span").hasClass("ListRecords")?this.$gallery=this.$widget.find(".GenericGallery-content > span.ListRecords"):this.$gallery=this.$widget.find(".GenericGallery-content"),this.$galleryItems=this.$gallery.children(),this.$galleryItems.each((function(){e(this).hasClass("GenericGallery-item")||e(this).wrap('<div class="GenericGallery-item"></div>')})),e((function(){i.calculate(0)}))};s.prototype.calculate=function(i){var n=this;t.clearTimeout(this.genericGalleryResizeTimer),this.genericGalleryResizeTimer=t.setTimeout((function(){var t,i=n.$widget.outerWidth(!0),a=100/(t=i>=1900?n.config.itemsDesktopHD:i>=1600?n.config.itemsDesktopBig:i>=1366?n.config.itemsDesktop:i>=1024?n.config.itemsDesktopSmall:i>=420?n.config.itemsTablet:n.config.itemsPhone),o=n.$gallery.find(".GenericGallery-item").css("margin-left");n.$gallery.find(".GenericGallery-item").each((function(i,s){e(s).find(".GenericGallery-item--triple").length>0?e(s).css("width",3*a+"%"):e(s).find(".GenericGallery-item--double").length>0?e(s).css("width","calc("+2*a+"%)"):e(s).css("width","calc("+a+"% - "+o+")"),"Right"===n.config.itemsBorder&&((i+1)%t==0?e(s).css({borderRight:0}):e(s).css({borderRight:""})),e(s).css("opacity",1),e(s).find("> span").css("opacity",1),e(s).addClass(n.config.itemsBgColor)})),"Right"===n.config.itemsBorder&&n.$gallery.find(".GenericGallery-item").last().css({borderRight:0}),n.config.equalHeight&&n.sameHeight()}),i)},s.prototype.sameHeight=function(){this.$gallery.find(".GenericGallery-item").css("min-height","auto");var t=Math.max.apply(null,this.$gallery.find(".GenericGallery-item").map((function(){return e(this).outerHeight(!1)})).get());this.$gallery.find(".GenericGallery-item").css("min-height",t)},n.GenericGallery={create:function(i){o(i),osAjaxBackend?osAjaxBackend.BindAfterAjaxRequest((function(){o(i)})):e(t).load((function(){osAjaxBackend.BindAfterAjaxRequest((function(){o(i)}))}))},all:function(){return a}}}(jQuery,window,document,SapphireWidgets),$(window).off("resize.GenericGallery").on("resize.GenericGallery",(function(){SapphireWidgets.GenericGallery.all().forEach((function(e){e.calculate(200)}))}))},function(e,t){!function(e,t,i){const n=(i,n)=>{if(n.isArrowNavigation){handleArrows(i);const n=i.find(".Toolbar__Items"),a=i.find(".Toolbar__Items .ListRecords"),o=i.find(".Toolbar__rightBtn"),s=i.find(".Toolbar__leftBtn");n.scroll(()=>handleArrows(i)),o.click((function(){var e=n.scrollLeft(),t=a.width()-n.width()-50;n.scrollLeft(e+50),e==t&&o.addClass("Disabled"),50!=e&&s.removeClass("Disabled")})),s.click((function(){var e=n.scrollLeft(),t=a.width()-n.width()-50;n.scrollLeft(e-50),e!=t&&o.removeClass("Disabled"),50==e&&s.addClass("Disabled")})),e(t).on("resize.toolbar",()=>handleArrows(i))}else handleResize(i),bindEventsClick(i),e(t).on("resize.toolbar",()=>handleResize(i)),t.addEventListener("ToolbarFixed",()=>handleResize(i),!1)};handleArrows=e=>{const t=e.find(".Toolbar__Items"),i=e.find(".Toolbar__Items .ListRecords"),n=e.find(".Toolbar__rightBtn"),a=e.find(".Toolbar__leftBtn");let o=t.scrollLeft(),s=i.width(),r=t.width();var l=s-r;r>s?(a.hide(),n.hide(),e.find(".Toolbar_container").addClass("Toolbar_container--noarrows")):(a.show(),n.show(),e.find(".Toolbar_container").removeClass("Toolbar_container--noarrows")),0===o?a.addClass("Disabled"):a.removeClass("Disabled"),o>=l?n.addClass("Disabled"):n.removeClass("Disabled")},handleResize=t=>{let i=0,n=!1;const a=t.find(".Toolbar__Items .ListRecords");a.find("> a[ui]").css("display","none");const o=t.find(".Toolbar__Items").outerWidth(!0);a.find("a[ui]").each((function(){if(i+=parseInt(e(this).outerWidth(!0),10),!(i+90<o))return n=!0,!1;e(this).css("display","block")})),n&&!a.find(".Toolbar__MoreOptions").length&&(t.find(".Toolbar__MoreOptions").clone().css("display","block").appendTo(a),n=!1);const s=t.find(".Toolbar__Items .Toolbar__MoreOptionsList");a.find(".Toolbar__MoreOptions").css("display",s.length?"block":"none");const r=a.find("> a[ui]").filter((function(){return"none"==e(this).css("display")}));s.empty(),r.clone().css("display","block").appendTo(s)},bindEventsClick=t=>{const i=t.find(".Toolbar__Items .Toolbar__MoreOptions"),n=t.find(".Toolbar__Items .Toolbar__MoreOptionsIcon"),a=t.find(".Toolbar__MoreOptionsList");n.on("click",e=>{i.toggleClass("Toolbar__MoreOptions--open"),e.stopPropagation()}),a.on("mousewheel",e=>{e.stopPropagation()}),e("body").on("mouseup",t=>{e(t.target).parents().andSelf().is(i)||i.removeClass("Toolbar__MoreOptions--open")})},i.HorizontalToolbar={create:i=>{const a=e("#"+i.widgetId);e(document).ready(()=>n(a,i)),i.isArrowNavigation&&e(t).load(()=>{const e=a.find(".MenuItemWrapper.Active");e.length&&e[0].scrollIntoView({behavior:"auto",block:"end"})})}}}(jQuery,window,SapphireWidgets)},function(e,t){!function(e,t,i){class n{constructor(e){this.options={...e},this.onComponentInit()}isComponentValid(){let e=!0,t=`Component HourPicker (${this.options.widgetId}):`,i="";return this.$model.length&&this.$model.length>1&&(i=`${i} - Needs one - and just one - Input element.`,e=!1),!this.$model.length&&this.$component.find(".HourPicker__Placeholder input").length&&(i=`${i}\n - The Input element must be of type Text.`,e=!1),e||console.error(`${t} ${i}`),e}setComponentPosition(){const i=e(".ui-timepicker-container"),n=this.$label.offset().left,a=this.$label.width(),o=this.$label.outerWidth(),s=i.outerWidth(),r=+i.css("min-width").replace("px",""),l=n+o>e(t).scrollLeft()+e(t).width()-s;i.css({left:()=>{let e=n-(r-a)/2;return l?e=n+a-s:e<0&&(e=n),e}})}setElementClass(t,i){return!!i&&e(t).addClass(i)}defineTimeFormat(){let e=[],t="";return e.push(this.options.is24hFormat?"HH":"hh"),this.options.showMinutes&&e.push("mm"),this.options.showSeconds&&e.push("ss"),this.options.is24hFormat||(t=" p"),`${e.join(":")}${t}`}convertTime12to24(e){const[t,i]=e.split(" ");let[n,a="00",o="00"]=t.split(":");return"12"===n&&(n="00"),"PM"===i&&(n=parseInt(n,10)+12),`${n}:${a}:${o}`}convertTimeFormatToMask(e=""){return e.replace(/[a-zA-Z]+/g,"--")}onChangeEvent(e=""){let t="01-01-1900 00:00:00",i=this.convertTimeFormatToMask(this.options.timeFormat);e&&e.trim()&&(t=this.options.is24hFormat?e:this.convertTime12to24(e),i=e),this.options.isNotifyEnabled&&OsNotifyWidget(this.options.hourPickerFakeNotifyId,t),this.options.isTextTriggerable&&this.$label.text(i),this.$model.val(t),this.$model.change()}onComponentInit(){if(this.$component=e(`#${this.options.widgetId}`),this.$model=this.$component.find('.HourPicker__Placeholder input[type="text"]'),this.$input=this.$component.find(".HourPicker__Displayed .HourPicker__InputValue"),this.$element=this.$input,this.options.timeFormat=this.defineTimeFormat(),this.isComponentValid()){const t=this.$component.find("div.HourPicker");this.options.isTextTriggerable&&(t.addClass("HourPicker--textTrigger"),this.$label=t.find(".HourPicker__Displayed .HourPicker__LabelValue"),this.$element=this.$label,this.$label.text(this.convertTimeFormatToMask(this.options.timeFormat)),this.$label.on("click",()=>{this.$label.timepicker().open(),this.setComponentPosition()})),this.options.isClearable&&(this.$buttonClear=t.find(".HourPicker__Displayed .HourPicker__ButtonClear"),this.$buttonClear.on("click",()=>{this.$input.val(""),this.onChangeEvent()})),this.$element.timepicker({...this.options,change:t=>this.onChangeEvent(t?e().timepicker.formatTime(this.options.timeFormat,t):null)}),this.setElementClass(".ui-timepicker-container","AR"===this.options.currentLocale?"rtl":"ltr"),this.$input.prop("readonly",!this.options.isTypeEnabled),this.$input.prop("placeholder",this.options.timeFormat)}}}i.HourPicker={create:e=>t[e.widgetId]=new n(e)}}(jQuery,window,SapphireWidgets)},function(e,t){!function(){class e{constructor(e){this.config=e,this.$widget=$(`#${e.widgetId}`),this.$input=this.$widget.find("input[type]"),this.$clear=this.$widget.find(".InputWithClear-clear"),this.$notifyLink=this.$widget.find(".InputWithClear-notify-link"),this.$widgetShield=this.$widget.find(".InputWithClear--shield"),this.onInit()}onInit(){this.$input.on("focus",()=>{this.$clear.show()}),this.$input.on("blur",()=>{""===this.$input.val()&&window.setTimeout(()=>{if(1===$(".daterangepicker:visible").length)return!1;this.$clear.hide(),this.$notifyLink.trigger("click")},100)}),this.$clear.on("click",()=>{this.$input.val(""),this.$clear.hide(),this.$notifyLink.trigger("click")}),this.config.hasShield&&(window.setTimeout(()=>{this.$widgetShield.hide()},this.config.shieldTimeout),this.config.shieldTimeout>0&&this.$widgetShield.on("click",()=>{this.$clear.hide()}))}}SapphireWidgets.InputWithClear={create:t=>window[t.widgetId]=new e(t)}}()},function(e,t){!function(e,t,i){i.LineDetailsExpandBox={create:t=>e(document).ready(()=>(t=>{e(`#${t.widgetId} + .LineDetailsExpandBox_action`).click(e=>{e.stopPropagation()})})(t))}}(jQuery,window,SapphireWidgets)},function(e,t){SapphireWidgets.LocationBox=function(e){$("#"+e).hasClass("On")?$(".DisableRoom").each((function(){$(this).removeClass("Off").removeClass("On"),$(this).parent(".RoomBox").css({opacity:"1"}).removeClass("Selected")})):($("#"+e).addClass("On").removeClass("Off").parent(".RoomBox").css({opacity:"1"}).addClass("Selected"),$(".DisableRoom:not(#"+e+")").each((function(){$(this).addClass("Off"),$(this).removeClass("On")})),$(".DisableRoom.Off").parent(".RoomBox").css({opacity:"0.25"}).removeClass("Selected"))}},function(e,t){!function(e,t,i,n){var a=[],o=function(t){var n=this;this.config=t,this.isLockedOnClose=!1,this.isOpen=t.isOpen,this.isEnabled=t.isEnabled,this.isSelectable=t.isSelectable,this.allowOpening=t.allowOpening,this.gradientWhenOpen=t.gradientWhenOpen,this.allowMultipleOpen=t.allowMultipleOpen,this.emitNotifyOnOpen=t.emitNotifyOnOpen,this.hideActionsOnOpen=t.hideActionsOnOpen,this.hideCaptionOnOpen=t.hideCaptionOnOpen,this.hideTitleOnOpen=t.hideTitleOnOpen,this.hideSubTitleOnOpen=t.hideSubTitleOnOpen,this.headerHeightWhenOpen=t.headerHeightWhenOpen,this.MainInteractiveCardFakeNotifyId=t.mainInteractiveCardFakeNotifyId,this.$widget=e("#"+t.widgetId),this.$widget.css("display","block"),this.$card=this.$widget.find("> .MainInteractiveCard"),this.$header=this.$widget.find("> .MainInteractiveCard > .MainInteractiveCard-header"),this.$headerText=this.$header.find(".MainInteractiveCard-header-text"),this.$body=this.$widget.find("> .MainInteractiveCard > div > .MainInteractiveCard-body"),this.$actions=this.$widget.find("> .MainInteractiveCard > .MainInteractiveCard-header .MainInteractiveCard-header-actions"),this.$caption=this.$widget.find("> .MainInteractiveCard > .MainInteractiveCard-header .MainInteractiveCard-header-text-caption"),this.$title=this.$widget.find("> .MainInteractiveCard > .MainInteractiveCard-header .MainInteractiveCard-header-text-title"),this.$subTitle=this.$widget.find("> .MainInteractiveCard > .MainInteractiveCard-header .MainInteractiveCard-header-text-subtitle"),this.$selectTrigger=this.$widget.find("> .MainInteractiveCard > .MainInteractiveCard-header > .MainInteractiveCard-header-selectable > .MainInteractiveCard-header-selectable-trigger"),this.$selectPlaceholder=this.$widget.find("> .MainInteractiveCard > .MainInteractiveCard-header .MainInteractiveCard-header-selectable-placeholder"),this.$triggerPlaceholder=this.$widget.find("> .MainInteractiveCard > .MainInteractiveCard-header-triggerAction-placeholder"),1===this.$triggerPlaceholder.find("a").length&&(this.$trigger=this.$triggerPlaceholder.find("a")),this.isOpen&&(this.open(!1,-1),this.$card.addClass("forceOpen")),this.$card.addClass(this.headerHeightWhenOpen+"Header"),this.allowOpening&&this.$card.addClass("allowOpening"),this.gradientWhenOpen&&this.$card.addClass("gradientWhenOpen"),this.attachEvents(),new MutationObserver((function(e){e.forEach((function(e,t){n.handleHeaderWithAbsoluteButtons()}))})).observe(i.getElementById(t.widgetId),{childList:!0,subtree:!0,attributes:!1})};o.prototype.handleHeaderWithAbsoluteButtons=function(){var t=this;if(this.$body.find("> div .MainInteractiveCard-absolute-actions").length&&this.isOpen){var i=Math.max.apply(Math,this.$body.find("> div .MainInteractiveCard-absolute-actions").map((function(){return e(this).outerWidth(!0)})).get()),n=this.$header.width()-i;n>10&&this.$headerText.css({maxWidth:n+"px"}),this.$body.find("> div .MainInteractiveCard-absolute-actions .MainInteractiveCard--close").off("click").on("click",(function(e){e.preventDefault(),t.close()}))}else this.$headerText.css({maxWidth:"99%"}),1===this.$widget.find("iframe").length&&setTimeout((function(){t.$widget.find("iframe")[0]&&t.$widget.find("iframe")[0].contentWindow&&t.$widget.find("iframe")[0].contentWindow.SapphireWidgets&&t.$widget.find("iframe")[0].contentWindow.SapphireWidgets.ResizeParentIframe&&t.$widget.find("iframe")[0].contentWindow.SapphireWidgets.ResizeParentIframe.resize()}),500)},o.prototype.attachEvents=function(){var t=this;this.$header.find(".MainInteractiveCard--open:not([disabled])").off("click").on("click",(function(e){e.preventDefault(),t.open(!0)})),this.$header.find(".MainInteractiveCard--close").off("click").on("click",(function(e){e.preventDefault(),t.close()})),this.allowOpening&&this.$headerText.off("click").on("click",(function(i){e(i.target).hasClass("Button")||(t.isOpen?1===t.$widget.find("iframe").length||t.$actions.find("a").length>0&&t.$actions.find(".MainInteractiveCard--close").length>0||t.close():t.open(!0))})),this.isSelectable&&this.$selectTrigger.off("click").on("click",(function(e){1===t.$selectPlaceholder.find("a").length?t.$selectPlaceholder.find("a").click():console.warn("You need 1 link in this placeholder.")}))},o.prototype.open=function(e,t){t=t||300;(this.isOpen=!0,this.$card.addClass("isOpen"),this.hideActionsOnOpen&&this.$actions.css("display","none"),this.hideTitleOnOpen&&this.$title.css("display","none"),this.hideSubTitleOnOpen&&this.$subTitle.css("display","none"),this.hideCaptionOnOpen&&this.$caption.css("display","none"),this.emitNotifyOnOpen?(e&&OsNotifyWidget(this.MainInteractiveCardFakeNotifyId,"open"),this.$body.css("display","block")):this.$trigger?(this.$trigger.click(),this.$body.css("display","block")):t>0?this.$body.slideDown(t):this.$body.css("display","block"),1!==this.$widget.find("iframe").length||this.$widget.find("iframe").hasClass("cke_wysiwyg_frame"))?this.handleHeaderWithAbsoluteButtons():this.$widget.find("iframe").contents().find(".MainInteractiveCard-iframe-actions").css("visibility","visible");this.allowMultipleOpen||a.forEach(e=>e!==this&&e.allowOpening?e.close(t):null)},o.prototype.close=function(e){var t=this;e=e||300;this.isOpen=!1,this.$card.removeClass("isOpen"),1!==this.$widget.find("iframe").length||this.$widget.find("iframe").hasClass("cke_wysiwyg_frame")||this.$widget.find("iframe").find(".MainInteractiveCard-iframe-actions").css("visibility","hidden"),this.$body.slideUp(e,(function(){t.$card.hasClass("forceOpen")&&t.$card.removeClass("forceOpen")})),this.hideActionsOnOpen&&this.$actions.show(),this.hideTitleOnOpen&&this.$title.css("display","block"),this.hideSubTitleOnOpen&&this.$subTitle.css("display","block"),this.hideCaptionOnOpen&&this.$caption.css("display","block"),this.$headerText.css({maxWidth:this.$header.width()-this.$actions.width()+"px"})},o.prototype.isOpen=function(){return this.isOpen},n.MainInteractiveCard={create:function(e){for(var i=0;i<a.length;i++)a[i].config.widgetId===e.widgetId&&a.splice(i,1);t[e.widgetId]=new o(e),a.push(t[e.widgetId]),!n.MainInteractiveCard.afterAjaxRequestBinded&&osAjaxBackend&&(osAjaxBackend.BindAfterAjaxRequest((function(){n.MainInteractiveCard.all().forEach((function(e){e.handleHeaderWithAbsoluteButtons()}))})),n.MainInteractiveCard.afterAjaxRequestBinded=!0)},all:function(){return a}}}(jQuery,window,document,SapphireWidgets),$(window).load((function(){$(".MainInteractiveCard").length&&(SapphireWidgets.MainInteractiveCard.afterAjaxRequestBinded||(osAjaxBackend.BindAfterAjaxRequest((function(){SapphireWidgets.MainInteractiveCard.all().forEach((function(e){e.handleHeaderWithAbsoluteButtons()}))})),SapphireWidgets.MainInteractiveCard.afterAjaxRequestBinded=!0)),setTimeout((function(){SapphireWidgets.MainInteractiveCard.all().forEach((function(e){e.handleHeaderWithAbsoluteButtons()}))}),1e3)}))},function(e,t){SapphireWidgets.MenuBar=function(e){$((function(){var t=$("#"+e.menuWidget),i=function(){var e=0,n=t.find(".Menubar_item").width();if(t.find(".Menubar_item .MenuItem").each((function(){e+=$(this).outerWidth(!0)})),e>n){var a=t.find(".Menubar_item .MenuItem").last();a.attr("data-width",a.outerWidth(!0)),a.prependTo(t.find(".Menubar__extraContainer")),i()}else{var o=t.find(".Menubar__extraContainer .MenuItem").first();e+o.data("width")<n&&(o.insertAfter(t.find(".Menubar_item .MenuItem").last()),i())}t.find(".Menubar__extraContainer").is(":empty")?t.find(".Menubar_extraItem").removeClass("show"):t.find(".Menubar_extraItem").addClass("show")};t.find(".MenuItem").click((function(){$(this).parent().hasClass("Menubar__extraContainer")?$(this).find(".MenuItem_subItems").toggleClass("show"):$(this).hasClass("active")||$(this).hasClass("activeIndicator")?!$(this).hasClass("active")&&$(this).hasClass("activeIndicator")&&($(this).addClass("active"),$(this).find(".MenuItem_subItems").toggleClass("show")):($(this).addClass("active"),t.find(".activeIndicator").addClass("shadow"),$(this).find(".MenuItem_subItems").toggleClass("show"))})),t.find(".Menubar_extraItem .icon").click((function(){t.find(".Menubar__extraContainer ").toggleClass("show")})),$(document).mouseup(e=>{var i=t.find(".MenuItem.active"),n=t.find(".Menubar_extraItem");i.length>0&&(i.is(e.target)||0!==i.has(e.target).length||(i.find(".MenuItem_subItems").removeClass("show"),$(".activeIndicator").removeClass("shadow"),t.find(".MenuItem.active").removeClass("active"))),n.is(e.target)||0!==n.has(e.target).length||(n.find(".Menubar__extraContainer").removeClass("show"),$(".activeIndicator").removeClass("shadow"))}),$(window).on("resize load",(function(){i()}))}))}},function(e,t){SapphireWidgets.MultipleSelectionButton=function(e){var t=$(e),i=t.find('input[type="checkbox"]');$(e+' input[type="checkbox"]').is(":disabled")?$(e).addClass("disabled"):$(e).removeClass("disabled"),$(e+' input[type="checkbox"]').is(":checked")?$(e).addClass("active"):$(e).removeClass("active"),t.find('input[type="checkbox"]').change((function(){$(this).is(":checked")?$(this).parent().parent().addClass("active"):$(this).parent().parent().removeClass("active")})),t.find(".MultipleSelectionButton-label").click((function(){i[0].click(),setTimeout((function(){i.is(":checked")?t.addClass("active"):t.removeClass("active")}),10)}))}},function(e,t){var i=null!=window.frameElement||!1;SapphireWidgets.ConfirmationPopup={isAnyConfirmationOpened:function(){return i?window.top.$("body").hasClass("confirmation-opened")&&window.top.$(".confirm-container:visible").length:$("body").hasClass("confirmation-opened")&&$(".confirm-container:visible").length},toggleConfirm:function(e,t,n,a,o){if(OsValidatorOnSubmit()&&!this.isAnyConfirmationOpened()){var s=$("body"),r=document.body;i&&(s=window.top.$("body"),r=window.top.document.body),s.addClass("confirmation-opened");var l="confirm_"+e,c=document.createElement("DIV");c.setAttribute("id",l),c.setAttribute("class","confirm confirm-wb"),c.setAttribute("confirm-trigger-elementid",e);var d=document.createElement("DIV");d.setAttribute("class","confirm-background confirm-wb"),d.setAttribute("id","bg_"+l),c.appendChild(d);var u=document.createElement("DIV");u.setAttribute("class","confirm-container confirm-wb"),c.appendChild(u);var h=document.createElement("DIV");h.setAttribute("class","confirm-title");var p=document.createTextNode(t);h.appendChild(p),u.appendChild(h);var f=document.createElement("DIV");f.setAttribute("class","confirm-message"),f.innerHTML=n,u.appendChild(f);var m=document.createElement("DIV");m.setAttribute("class","confirm-actions"),u.appendChild(m);var g=document.createElement("A");g.setAttribute("class","Button Third MultiMarginRight10"),g.setAttribute("cancel-button","cancel-button"),g.setAttribute("ui","ConfirmNo1"),"True"==o?i?g.setAttribute("onclick",'document.getElementById("iframe_'+e+'").contentWindow.OsNotifyWidget("'+a+'","CANCEL"); SapphireWidgets.ConfirmationPopup.closeConfirmPopup("'+l+'");'):g.setAttribute("onclick",'OsNotifyWidget("'+a+'","CANCEL"); SapphireWidgets.ConfirmationPopup.closeConfirmPopup("'+l+'");'):g.setAttribute("onclick",'SapphireWidgets.ConfirmationPopup.closeConfirmPopup("'+l+'");');var v=document.createTextNode("No");g.appendChild(v),m.appendChild(g);var S=document.createElement("A");S.setAttribute("class","Button SetAsValid"),S.setAttribute("cancel-button",""),S.setAttribute("ui","ConfirmYes1"),i?S.setAttribute("onclick",'document.getElementById("iframe_'+e+'").contentWindow.OsNotifyWidget("'+a+'","OK"); SapphireWidgets.ConfirmationPopup.closeConfirmPopup("'+l+'");'):S.setAttribute("onclick",'OsNotifyWidget("'+a+'","OK"); SapphireWidgets.ConfirmationPopup.closeConfirmPopup("'+l+'");');var b=document.createTextNode("Yes");S.appendChild(b),m.appendChild(S),u.appendChild(m),c.appendChild(u),r.appendChild(c),i?(window.top.$("#bg_"+l).fadeIn(140),setTimeout((function(){window.top.$("#"+l).find(".confirm-container").slideToggle(150),window.top.$("#"+l+" [cancel-button]").focus()}),100)):($("#bg_"+l).fadeIn(140),setTimeout((function(){$("#"+l).find(".confirm-container").slideToggle(150),$("#"+l+" [cancel-button]").focus()}),100))}},closeConfirmPopup:function(e){$("body").removeClass("confirmation-opened"),$("body").css("overflow-y","scroll"),$("#bg_"+e).fadeOut(140),setTimeout((function(){$("#"+e).find(".confirm-container").slideUp(150),$("#"+e).remove()}),100)},create:function(e,t,n,a,o){$(document).ready((function(){$("#"+e).off("click").on("click",(function(){return SapphireWidgets.ConfirmationPopup.toggleConfirm(e,t,n,a,o),i&&(window.frameElement.setAttribute("menu-id",e),window.frameElement.setAttribute("id","iframe_"+e)),!1}))}))}}},function(e,t){SapphireWidgets.PanelByIdNotify={isAnyPanelOpenedDeprecated:function(){return $("body").hasClass("PanelOpened")},togglePanelByNotify:function(e){if(isAnyPanelOpenedDeprecated())$("body").removeClass("PanelOpened"),$("#"+e).parents(".ToggleButton").parent().children(".Panel").fadeOut(140),setTimeout((function(){$("#"+e).parents(".ToggleButton").parent().children(".Panel").children(".PanelContainer").slideUp(150)}),100);else{$("body").addClass("PanelOpened"),$("#"+e).parents(".ToggleButton").parent().children(".Panel").fadeIn(140);try{0==justDragged&&$(".PanelContainer").css("margin-left",panelMarginLeft).css("left",panelLeft).addClass(panelArrowClass)}catch(e){console.log(e)}setTimeout((function(){$("#"+e).parents(".ToggleButton").parent().children(".Panel").children(".PanelContainer").slideDown(150)}),100)}},togglePanelNotifyById:function(e){$("body").toggleClass("PanelOpened"),$("#"+e).parents(".ToggleButton").parent().children(".Panel").fadeToggle(140),$("#"+e).parents(".ToggleButton").attr("NotifyId"),setTimeout((function(){$("#"+e).parents(".ToggleButton").parent().children(".Panel").children(".PanelContainer").slideToggle(150)}),100)}}},function(e,t,i){i(0),i(1),i(2),i(3)},function(e,t){!function(e,t,i,n){n.PatientCallCancel={create:function(i){var n,a,o=e("#"+i.widgetId).find(".PatientCallCancel"),s=o.find(".PatientCallCancel-counter"),r=o.find(".PatientCallCancel-label"),l=function(e,t){o.find("> div").prop("class",e),r.text(t)},c=function(e){l("js-calling",i.txtCallPatient),i.showCountdown?s.text(i.txtCallingIn+" "+i.timeToCancel):s.text(i.txtCallingIn),d()},d=function(){a=i.timeToCancel,n=t.setInterval(u,1e3)},u=function(){if(0===--a){clearInterval(n);OsNotifyWidget(i.patientCallFakeNotifyId,"")}i.showCountdown?s.text(i.txtCallingIn+" "+a):s.text(i.txtCallingIn)};o.find(".PatientCallCancel-cancel--label").text(i.txtCancel),l("js-idle",i.txtCallPatient),o.on("click",".js-idle .PatientCallCancel-label",(function(){c()})),o.on("click",".js-idle .PatientCallCancel-icon",(function(){c()})),o.on("click",".js-calling .PatientCallCancel-cancel",(function(){a=i.timeToCancel,s.text(a),clearInterval(n),l("js-idle",i.txtCallPatient)}))}}}(jQuery,window,document,SapphireWidgets)},function(e,t){$(document).ready((function(){var e=function(){$(".PersonCard__title, .PersonCard__content").off("click").on("click",(function(){$header=$(this).closest(".PersonCard_header"),$content=$header.next(),$content.children().length>0&&($content.slideToggle(500),$(".PersonCard.IsOpen").length>0?$(this).closest(".PersonCard").removeClass("IsOpen"):$(this).closest(".PersonCard").addClass("IsOpen"))}))};$(".StopPropagation").click((function(e){e.stopPropagation()})),e(),osAjaxBackend.BindAfterAjaxRequest(e)}))},function(e,t){!function(e,t,i){const n=e=>{const t=e.parents(".PrescriptionCard");t.find(".ExpanDiv").hasClass("IsOpen")?(t.find(".ExpanDiv").removeClass("IsOpen"),e.text("See More")):(t.find(".ExpanDiv").addClass("IsOpen"),e.text("See Less"))};i.PrescriptionCard={create:t=>{e(`#${t.widgetId}`).click(()=>{n(e(`#${t.widgetId}`))})}}}(jQuery,window,SapphireWidgets)},function(e,t){!function(e,t,i){const n=function(t){const i=t.widgetId,n=[],a=SilkUI.whichTransitionEvent(),o=e(`#${t.widgetId}`),s=t=>{if(e(t).hasClass("PrescriptionExpandable_header__LinksDiv"))var i=e(t).parent().parent().parent();else i=e(t).parent();var o=i.children(".PrescriptionExpandable_content"),s=i.attr("id"),r=0;i.hasClass("expanded")?(o.addClass("noTransition"),o.height(o.height()),o[0].offsetHeight,o.removeClass("noTransition"),o.height(0),i.removeClass("expanded"),o.css("overflow","hidden"),n[s].client=!1):(o.height("auto"),r=o.height(),o.height(0),o.height(r),o.css("overflow","hidden"),i.addClass("expanded"),n[s].client=!0,o.on(a,(function(){i.hasClass("expanded")&&(o.css("overflow","visible"),o.addClass("noTransition"),o.height("auto"),o[0].offsetHeight,o.removeClass("noTransition"))})))};this.init=()=>{const t=o.find(".PrescriptionExpandable_header"),a=t.find(".PrescriptionExpandable_header__LinksDiv");e(".SectionPrescriptionExpandableArea").each(()=>{const e=!!t.hasClass("expanded");n[i]={client:e,server:e}}),t.hasClass("NotExpandable")?t.on("click",e=>e.preventDefault()):t.hasClass("isLinkEpandableClick")?a.on("click",e=>s(a)):t.on("click",e=>s(t));e(".PrescriptionExpandable_header input, .PrescriptionExpandable_header select, .PrescriptionExpandable_header a").click((function(e){e.stopPropagation()})),osAjaxBackend.BindAfterAjaxRequest(r)};const r=function(){e(".PrescriptionExpandable_header").off(),e(".PrescriptionExpandable_header input, .PrescriptionExpandable_header select, .PrescriptionExpandable_header a").click((function(e){e.stopPropagation()})),e(".SectionPrescriptionExpandableArea").each((function(){if(null==n[e(this).attr("id")]){var t=!1;e(this).hasClass("expanded")&&(t=!0),n[e(this).attr("id")]={client:t,server:t}}var i=!1;e(this).hasClass("expanded")&&(i=!0),i!=n[e(this).attr("id")].server?(n[e(this).attr("id")].client=i,n[e(this).attr("id")].server=i):0==n[e(this).attr("id")].client&&e(this).hasClass("expanded")?(e(this).removeClass("expanded"),e(this).children(".PrescriptionExpandable_content").height(0)):1!=n[e(this).attr("id")].client||e(this).hasClass("expanded")||e(this).addClass("expanded")}))}};i.PrescriptionExpandable={create:e=>{SilkUI.SectionExpandable=new n(e),SilkUI.Execute(SilkUI.SectionExpandable.init,"Error on WebPatterns/Content/SectionExpandable")}}}(jQuery,window,SapphireWidgets)},function(e,t){!function(e,t,i,n){var a=function(t){var i=this;this.config=t,this.isConfidential=t.isConfidential,this.$widget=e("#"+t.widgetId),this.$widget.css({display:"block"}),this.$header=this.$widget.find(".SapphireHeader"),this.$demographic=this.$widget.find(".SapphireHeader-demographics"),this.$information=this.$widget.find(".SapphireHeader-information"),this.$additionalTrigger=this.$widget.find(".SapphireHeader-additional-trigger"),this.$additionalContent=this.$widget.find(".SapphireHeader-additional-content"),this.handleResize(),this.attachEvents(),e((function(){setTimeout((function(){i.handleDemographics()}),500)}))};a.prototype.getConfig=function(){return this.config},a.prototype.handleResize=function(){var i=this;e(t).resize((function(){i.handleDemographics()}))},a.prototype.attachEvents=function(){var e=this;this.$additionalTrigger.on("click",(function(){e.$header.hasClass("isOpen")?e.$header.removeClass("isOpen"):e.$header.addClass("isOpen")}))},a.prototype.handleDemographics=function(){var t=this;this.$demographic.find(".Demographic-item").css("display","none"),this.$additionalTrigger.hide(),this.$additionalContent.empty();var i=this.$demographic.outerWidth(!0),n=0;this.$demographic.find(".Demographic-item").each((function(a){(n+=parseInt(e(this).outerWidth(!0),10))+60<i?e(this).css("display","inline-block"):(e(this).clone().css("display","inline-block").appendTo(t.$additionalContent),t.$additionalTrigger.show())})),0===this.$additionalContent.find(".Demographic-item").length&&this.$header.removeClass("isOpen")},a.prototype.showAdditional=function(){return this.$header.addClass("isOpen")},a.prototype.hideAdditional=function(){return this.$header.removeClass("isOpen")},n.SapphireHeader={create:function(e){t[e.widgetId]=new a(e),n.SapphireHeader.widgetId=e.widgetId},handleDemographics:function(){t[n.SapphireHeader.widgetId].handleDemographics()}}}(jQuery,window,document,SapphireWidgets),$(window).load((function(){$(".SapphireHeader-demographics").length&&osAjaxBackend.BindAfterAjaxRequest((function(){window[SapphireWidgets.SapphireHeader.widgetId].handleDemographics()}))}))},function(e,t){SapphireWidgets.SapphireRadioButton=e=>{var t=$("#"+e),i=t.find('input[type="radio"]'),n=i.prop("name");i.click((function(){t.removeClass("active"),$('input[type="radio"][name="'+n+'"]').each((function(){$(this).closest(".ButtonRadioInp").removeClass("active")})),$(this).is(":checked")?t.addClass("active"):t.removeClass("active")})),t.find(".ButtonRadioInp_radioText").click((function(){if($(this).closest(".ButtonRadioInp").hasClass("disabled"))return!1;i.trigger("click"),i.trigger("click"),i.is(":checked")?t.addClass("active"):t.removeClass("active")}))}},function(module,exports){!function($,window,SapphireWidgets){const create=e=>{$(document).ready((function(){setupScale(),bindClicks(),osAjaxBackend.BindAfterAjaxRequest((function(){setTimeout((function(){bindClicks()}),1e3)}))}))};ScaleCount=conf=>{$((function(){var CardScale=conf.IsCardScale,RulerScale=conf.IsRulerScale,MultipleScale=conf.IsMultipleScale,$totalPlace=$(".ScaleMainStructure_footerResult .Heading2"),totalCardScale=0,totalMultipleScale=0,totalRulerScale=0,ScaleTypeCard=function(){var totalSelected=$(".ScaleList.CardScale").find(".ScaleCard.active").length,totalNumber=0;if($(".ScaleList.CardScale:not('.isTitle')").each((function(){$(this).find(".ScaleCard").length>0&&(totalNumber+=1)})),totalNumber===totalSelected){var total=[],inputValue="",$scaleRow=$(".ScaleList.CardScale:not(.isTitle)");$scaleRow.each((function(){inputValue=$(this).find(".ScaleCard.active").data("value"),$(this).find(".ScaleList_inputValue input").val(inputValue)})),$(".ScaleList.CardScale .ScaleCard.active").each((function(){total.push($(this).data("value"))}));var finalTotal=eval(total.join("+"));return finalTotal}},ScaleTypeRuler=function(){var e="";if($(".RulerScale_number.active").length>0){e=$(".RulerScale_number.active").closest(".RulerScale").data().value;return $(".ScaleList.Ruler").find(".ScaleList_inputValue input").val(e),e}return e},ScaleTypeMultiple=function(){var numberofCols=$(".ScaleList.MultipleScale").first().find(".ButtonGroupScale").length,numberofRows=$(".ButtonGroupScale").closest(".ScaleList.MultipleScale:not(.isTitle):not(.isSubtotal)").length,total=[],i=0,j=0,countActive=0,countallActiveCols=0,totalOfItems=numberofCols*numberofRows,totalScore=[];for(i=0;i<numberofCols;i++){for(j=0;j<numberofRows;j++){var ScaleListSelected=document.querySelectorAll(".ScaleList.MultipleScale:not(.isTitle):not(.isSubtotal)")[j],ButtonScaleSelected=ScaleListSelected.querySelectorAll(".ButtonGroupScale")[i];if(ButtonScaleSelected.querySelectorAll(".ButtonGroup_button.active").length>0){var ScaleValue=ButtonScaleSelected.querySelectorAll(".active")[0].innerText;total.push(parseInt(ScaleValue)),totalScore.push(parseInt(ScaleValue)),countActive+=1}}if($(".ScaleList.MultipleScale.isSubtotal").length>0&&countActive===numberofRows){var subTotal=eval(total.join("+")),subtotalScale=document.querySelectorAll(".ScaleList.MultipleScale.isSubtotal .ButtonGroupScale")[i];subtotalScale.innerText=subTotal,countallActiveCols+=1}countActive=0,total=[]}if(document.querySelectorAll(".ButtonGroup_button.active").length===totalOfItems){var i=0,j=0;for(i=0;i<numberofRows;i++){var ScaleListRow=$(".ScaleList.MultipleScale:not(.isTitle):not(.isSubttotal)")[i],$ScaleListInput=$(ScaleListRow).find(".ScaleList_inputValue input"),valuesSelected="";for(j=0;j<numberofCols;j++){var ActiveButton=$(ScaleListRow).find(".ButtonGroup_button.active")[j],ActiveValue=ActiveButton.innerText;valuesSelected+=j===numberofCols-1?ActiveValue:ActiveValue+","}$ScaleListInput.val(valuesSelected)}var getTotal=eval(totalScore.join("+"));return getTotal}},TotalCalc=function(){if(!0===CardScale&&(totalCardScale=ScaleTypeCard()),!0===RulerScale&&(totalRulerScale=ScaleTypeRuler()),!0===MultipleScale&&(totalMultipleScale=ScaleTypeMultiple()),!isNaN(totalMultipleScale)&&!isNaN(totalCardScale)&&!isNaN(totalRulerScale)){var e=totalCardScale+totalMultipleScale+totalRulerScale,t=e>11?" (High)":" (Low)";$(".ScaleMainStructure_totalScore.Heading2").text(e+t),$(".ScaleMainStructure_hiddingLink a").length>0&&$(".ScaleMainStructure_hiddingLink a").click()}};if(!0===CardScale&&($(".ScaleCard").click((function(){$(this).hasClass("disabled")||($parentScaleCard=$(this).closest(".ScaleList.CardScale"),$parentScaleCard.find(".ScaleCard").removeClass("active"),$(this).addClass("active"),TotalCalc())})),TotalCalc()),!0===RulerScale&&($(".RulerScale").click((function(){0===$(this).find(".viewmode").length&&($(this).closest(".ScaleList.Ruler").find(".RulerScale_number").removeClass("active"),$(this).find(".RulerScale_number").addClass("active"),TotalCalc())})),TotalCalc()),!0===MultipleScale){var counter,ScaleListTitle=document.querySelector(".ScaleList.MultipleScale.isTitle"),ScaleListSubTotal=document.querySelector(".ScaleList.MultipleScale.isSubtotal"),ScaleList=document.querySelector(".ScaleList.MultipleScale:not(.isTitle):not(.isSubtotal)");$(".ButtonGroupScale").closest(".ScaleList.MultipleScale:nth-child(2n)").addClass("EvenLine");var numberOfGroupScale=ScaleList.querySelectorAll(".ButtonGroupScale").length;if($(".ScaleList.MultipleScale.isSubtotal .ButtonGroupScale").text(0),$(".ScaleList.MultipleScale.isTitle").length>0)for(counter=0;counter<numberOfGroupScale;counter++){var ScaleListWidth=ScaleList.querySelectorAll(".ButtonGroupScale")[counter].offsetWidth;ScaleListTitle.querySelectorAll(".ButtonGroupScale")[counter].style.width=ScaleListWidth+"px",ScaleListSubTotal.querySelectorAll(".ButtonGroupScale")[counter].style.width=ScaleListWidth+"px"}$(".ButtonGroup_button").click((function(){TotalCalc()})),TotalCalc()}}))},setupScale=()=>{var e,t,i;e=$(".ScaleCard").length>0,i=$(".ButtonGroupScale").length>0,t=$(".RulerScale").length>0,setTimeout((function(){ScaleCount({IsCardScale:e,IsRulerScale:t,IsMultipleScale:i})}),500),$(".ScaleMainStructure_options .ToggleItemControl").length>0&&$(".ScaleMainStructure_options .ToggleItemControl").click((function(){$(".ScaleMainStructure_totalScore.Heading2").text("")}))},resetScales=()=>{$(".ScaleMainStructure_content").css("visibility","hidden"),$(".ScaleMainStructure_options .ToggleItemControl").addClass("disabled"),setTimeout((function(){$(".ScaleMainStructure_totalScore.Heading2").text(""),setupScale()}),600),setTimeout((function(){$(".ScaleMainStructure_content").css("visibility","visible"),$(".ScaleMainStructure_options .ToggleItemControl").removeClass("disabled")}),1e3)},bindClicks=()=>{$(".ScaleMainStructure_options .ToggleItemControl ").length>0&&$(".ScaleMainStructure").off("click").on("click",".ToggleItemControl",(function(){resetScales()})),$(".Navigation_control").length>0&&($(".Navigation_right").click((function(){$(this).find("a")[0].hasAttribute("disabled")||resetScales()})),$(".Navigation_left").click((function(){$(this).find("a")[0].hasAttribute("disabled")||resetScales()})))},SapphireWidgets.ScaleMainStructure={create:create}}(jQuery,window,SapphireWidgets)},function(e,t){SapphireWidgets.ToggleItemControl=()=>{$(document).ready((function(){$('.ToggleItemControl input[type="radio"]').each((function(){$(this).is(":checked")&&$(this).parent().parent().addClass("active")})),$(".ToggleItemControl").off("click").on("click",(function(){$(".ToggleItemControl").removeClass("active"),$(this).find('input[type="radio"]').not(":checked").prop("checked",!0).click(),$(this).find('input[type="radio"]').is(":checked")?$(this).addClass("active"):$(this).removeClass("active")})),osAjaxBackend.BindAfterAjaxRequest((function(){$('.ToggleItemControl input[type="radio"]').each((function(){$(this).is(":checked")&&$(this).parent().parent().addClass("active")})),$(".ToggleItemControl").off("click").on("click",(function(){$(".ToggleItemControl").removeClass("active"),$(this).find('input[type="radio"]').is(":checked")?$(this).addClass("active"):$(this).removeClass("active")}))}))}))}},function(e,t){var i=window.SearchSelectDefine=window.SearchSelectDefine||{};SapphireWidgets.SelectSSD=function(e){$((function(){var t=$("#"+e.SSDSelectId),n=e.isMultiple,a=t.closest(".SearchSD"),o=a.find(".SearchSD___input input");o.val().length>0&&t.find(".SelectSD__contentTitle").highlight(o.val(),{className:"SelectSD-searched-term",caseSensitive:!1,wordsOnly:!1});"True"===n&&(console.log($(".SelectSD__multiple")),t.find(".SelectSD__multiple > input").click((function(){var e,i;console.log("click 4",this),e=t,i=0,"True"===n&&(i=e.closest(".SearchSD.showFavorite").find('.SelectSD__multiple > input[type="checkbox"]:checked').length,console.log(i),$allListcard=e.closest(".SearchSD_content"),i>0?(e.closest(".SearchSD.showFavorite").addClass("MultiSelectActive"),e.closest(".SearchSD_content .SelectSD").each((function(){$(this).find(".SelectSD_contentWrapper").off("click"),$(this).find(".SelectSD_actionLink").off("click")}))):(e.closest(".SearchSD.showFavorite").removeClass("MultiSelectActive"),e.closest(".SearchSD_content .SelectSD ").each((function(){$(this).find(".SelectSD_contentWrapper").on("click",(function(e){console.log("click 6 .SelectSD_contentWrapper",e),$(this).find(".LineActionLINK > a").click()})),$(this).find(".SelectSD_actionLink").on("click",(function(e){console.log("click 5 .SelectSD_actionLink",e),$(this).find(".LineActionLINK > a").click()}))}))))}))),t.find(".SelectSD__starLink").on("click",(function(e){t.find(".SelectSD .SelectSD__starWrapper").hasClass("starDisabled")||(t.find(".SelectSD .SelectSD__starWrapper").hasClass("starSelected")?function(e){a=e.closest(".SearchSD"),$PopupID=a.siblings(".SSDPopupWrapper"),$PopupID.fadeIn("fast",(function(){a.addClass("Dont_Close"),$PopupID.find(".SSDpopupOk").off("click").on("click",(function(){$PopupID.fadeOut("fast",(function(){e.find(".SelectSD__starTrigger > a").click(),setTimeout(a.removeClass("Dont_Close"),500)}))})),$PopupID.find(".SSDpopupCancel").off("click").on("click",(function(){$PopupID.fadeOut("fast",(function(){setTimeout(a.removeClass("Dont_Close"),500)}))}))}))}(t):t.find(".SelectSD__starTrigger > a").click())})),t.find(".SelectSD_contentWrapper").on("click",(function(e){a=t.closest(".SearchSD"),t.find(".LineActionLINK > a").click(),a.hasClass("MultiSelectActive")||(i.SSDSearch.returnToSearch(t.closest(".SearchSD")),i.SSDSearch.closeSSD(t.closest(".SearchSD")))})),t.find(".SelectSD_actionLink").on("click",(function(e){a=t.closest(".SearchSD"),t.find(".LineActionLINK > a").click(),a.hasClass("MultiSelectActive")||(i.SSDSearch.returnToSearch(t.closest(".SearchSD")),i.SSDSearch.closeSSD(t.closest(".SearchSD")))}))}))}},function(e,t){window.SearchSelectDefine=window.SearchSelectDefine||{};SapphireWidgets.SSDSearch=function(e){$((function(){var t,i=$("#"+e.SSDWidgetId).find(".SearchSD"),n=i.find(".SearchSD_content"),a=e.HasClone,o=e.HasFavorite,s=e.ShowClones,r=e.LimitLetter,l=e.HasShield,c=e.ShieldTimeout,d=i.find(".SearchSD--shield"),u=function(){clearTimeout(t),t=setTimeout((function(){v(i)}),700)};l&&window.setTimeout((function(){d.hide()}),c);var h=function(e,t,i){var n;return function(){var a=this,o=arguments,s=function(){n=null,i||e.apply(a,o)},r=i&&!n;clearTimeout(n),n=setTimeout(s,t),r&&e.apply(a,o)}},p=function(e){e.find(".SearchSD__inputWrapper").show(),e.find(".SearchSD_search_favoriteLink").hide(),e.find(".SearchSD___goToFavorite").hide(),e.find(".SearchSD__FavoriteCounter").hide(),e.find(".SearchSD__FavoriteActions").hide(),e.find(".SearchSD__FavoriteRemove").hide(),e.find(".SearchSD__cloneWrapper").hide(),e.find(".SearchSD__inputWrapper .SearchSD__return").hide(),e.removeClass("showFavorite"),e.removeClass("showClone")},f=function(e){e.find(".SearchSD_contentList").hide(),e.find(".SearchSD__loading").show(),e.find(".SearchSD_showMore a").length>0&&e.find(".SearchSD_showMore").hide(),p(e),e.removeClass("showClone"),e.removeClass("showFavorite"),e.removeClass("Open"),e.find(".SearchSD__inputWrapper .SearchSD__return").hide(),e.hasClass("hasClone")&&(e.addClass("hasClone"),e.find(".SearchSD__cloneWrapper").show()),e.hasClass("hasFavorite")&&(e.addClass("hasFavorite"),e.find(".SearchSD_search_favoriteLink").show())},m=function(e){e.removeClass("Open"),e.find(".SearchSD___input input").val("")},g=function(e){e.hasClass("Open")||(e.find(".SearchSD_contentList").hide(),e.find(".SearchSD__loading").show(),e.find(".SearchSD_showMore a").length>0&&e.find(".SearchSD_showMore").hide(),e.removeClass("Open"),e.removeClass(".showClone"),e.removeClass(".showFavorite"),e.hasClass("Open")||(e.find(".SearchLinkInput a").click(),e.addClass("Open")))},v=function(e){var t=e.find(".SearchSD___input input").val().length;(t>=r||0===t)&&e.find(".SearchLinkInput > a").click()},S=function(e,t){if(t.hasClass("Open")){var i=n.find(".ListRecords > span.selected"),a=n.find(".ListRecords > span:first-child"),o=n.find(".ListRecords > span:last-child"),s=i.length;if(38==e.which)0===s?(i=o,o.addClass("selected")):(i.removeClass("selected"),next=i.prev(),i=next.length>0?next.addClass("selected"):i.last().addClass("selected"));else if(40==e.which)0===s?a.addClass("selected"):(next=i.next(),i.removeClass("selected"),i=next.length>0?next.addClass("selected"):i.eq(0).addClass("selected"));else if(13==e.which){if(s>0)return e.preventDefault(),i.find(".SelectSD .SelectSD_actionLink").click(),!0;if(t.find("SearchSD___input input").is(":active")&&0===s)return e.preventDefault(),!0}else u()}};p(i),i.find(".SearchSD___input input").attr("autocomplete","off"),"True"===a&&(i.addClass("hasClone"),i.find(".SearchSD__cloneWrapper").show()),"True"===o&&(i.addClass("hasFavorite"),i.find(".SearchSD_search_favoriteLink").show()),"True"===a&"True"===s&&i.find(".SearchSD_cloneWrapper").click((function(){i.addClass("Open")})),i.find(".SearchSD__FavoriteRemove").click((function(){m(i),f(i),h(v(i),550),h(i.find(".SearchSD___input input").focus(),560)})),i.find(".SearchSD__cloneWrapper").click((function(){!function(e){e.find(".SearchSD_contentList").hide(),e.find(".SearchSD__loading").show(),e.find(".SearchSD_showMore a").length>0&&e.find(".SearchSD_showMore").hide(),e.find(".SearchSD___input input").val(""),e.removeClass("Open"),e.hasClass("showClone")||e.addClass("showClone"),e.addClass("Open")}(i),i.find(".SearchSD___goToClone > a").click()})),i.find(".SearchSD__inputWrapper").click((function(){i.hasClass("showClone")&&f(i)})),i.find(".SearchSD__FavoriteActionsCancel").click((function(){!function(e){$checkBoxes=e.parent().find('.SelectSD__multiple > input[type="checkbox"]'),e.removeClass("MultiSelectActive"),e.parent().find('.SelectSD__multiple > input[type="checkbox"]').each((function(){$(this).prop("checked",!1)}))}(i)})),i.find(".SearchSD___input input").focus((function(){h(g(i),600)})),$("body").mouseup((function(e){!function(e,t){t.is(e.target)||0!==t.has(e.target).length||f(t)}(e,i)})),i.find(".SearchSD___input input").add(i.find(".SelectSD_actionLink")).on("keyup",(function(e){13!=!e.which&&S(e,i)})),$(i).on("keydown",(function(e){13==e.which&&S(e,i)})),i.find(".SearchSD___remove").click((function(){m(i),h(f(i),600)})),i.find(".SearchSD_search_favoriteLink").click((function(){m(i),function(e){p(e),e.find(".SearchSD___input input").val(""),e.removeClass("Open"),e.find(".SearchSD__return").hide(),e.find(".SearchSD__inputWrapper").hide(),e.hasClass("showClone")&&e.removeClass("showClone"),e.find(".SearchSD__FavoriteCounter").show(),e.find(".SearchSD_search_favoriteLink ").show(),e.find(".SearchSD__FavoriteRemove ").show(),e.find(".SearchSD__FavoriteActions").show(),e.addClass("showFavorite"),e.find(".SelectSD.hasFavorite > a").focus(),e.addClass("Open"),e.find(".SearchSD_contentList").hide(),e.find(".SearchSD__loading").show(),e.find(".SearchSD_showMore a").length>0&&e.find(".SearchSD_showMore").hide()}(i),i.find(".SearchSD___goToFavorite > a").click()})),i.find(".SearchSD__FavoriteActionsAdd > a").click((function(){h(v(i),200),h(f(i),350)})),osAjaxBackend.BindAfterAjaxRequest((function(){i.hasClass("Open")&&(i.find(".SearchSD__loading").hide(),n.slideDown("1000",(function(){i.find(".SearchSD_contentList").show(),i.find(".SearchSD_showMore a").length>0&&i.find(".SearchSD_showMore").show()})))})),$("form").append('<input type="submit" name="ssdInput" onclick="return false;"  style="display:none;" />'),window.SearchSelectDefine.SSDSearch={returnToSearch:f,resetUI:p,closeSSD:function(e){e.removeClass("Open"),n.slideUp("250"),e.find(".selected").removeClass(".selected"),e.find(".SearchSD___remove").hide()},ssdFocus:g,TriggerSearch:v,ssdClear:m}}))}},function(e,t){!function(e,t,i){function n(){var t=this,i=[],n=SilkUI.whichTransitionEvent();function a(t){var a=e(t).parent(),o=a.children(".SectionExpandableCustom_content"),s=a.attr("id"),r=0;a.hasClass("expanded")?(o.addClass("noTransition"),o.height(o.height()),o[0].offsetHeight,o.removeClass("noTransition"),o.height(0),a.removeClass("expanded"),o.css("overflow","hidden"),i[s].client=!1):(o.height("auto"),r=o.height(),o.height(0),o.height(r),o.css("overflow","hidden"),a.addClass("expanded"),i[s].client=!0,(e(".Page").hasClass("ie8")||e(".Page").hasClass("ie9"))&&(o.height("auto"),o.css("overflow","visible")),o.on(n,(function(){a.hasClass("expanded")&&(o.css("overflow","visible"),o.addClass("noTransition"),o.height("auto"),o[0].offsetHeight,o.removeClass("noTransition"))})))}t.ajaxRefresh=function(){e(".SectionExpandable_headerCustom").off(),e(".SectionExpandable_headerCustom input, .SectionExpandable_headerCustom select, .SectionExpandable_headerCustom a").click((function(e){e.stopPropagation()})),e(".SectionExpandable_headerCustom").on("click",(function(){a(this)})),e(".SectionExpandableCustom").each((function(){if(null==i[e(this).attr("id")]){var t=!1;e(this).hasClass("expanded")&&(t=!0),i[e(this).attr("id")]={client:t,server:t}}var n=!1;e(this).hasClass("expanded")&&(n=!0),n!=i[e(this).attr("id")].server?(i[e(this).attr("id")].client=n,i[e(this).attr("id")].server=n):0==i[e(this).attr("id")].client&&e(this).hasClass("expanded")?(e(this).removeClass("expanded"),e(this).children(".SectionExpandableCustom_content").height(0)):1!=i[e(this).attr("id")].client||e(this).hasClass("expanded")||e(this).addClass("expanded")}))},t.init=function(){e(".SectionExpandableCustom").each((function(){var t=!1;e(this).hasClass("expanded")&&(t=!0),i[e(this).attr("id")]={client:t,server:t},e(this).hasClass("HideWhenEmpty")&&0===e(this).find(".SectionExpandableCustom_content").text().length&&e(this).hide();var n=!0;e(this).find(".SectionExpandableCustom_content div, .SectionExpandableCustom_content span").not(".SectionExpandableCustom_content--empty").each((function(){if(e(this).text().length>0)return n=!1,!1})),n||e(this).find(".SectionExpandableCustom_content--empty").css({display:"none"});var a=e(this),o=e(this).find("> .SectionExpandable_headerCustom .SectionExpandable-toggler");if(1===o.length){var s=!1;o.find("[data-labelvalue]").text(o.find("[data-labelshow]").data("labelshow")),o.off("click").on("click",(function(e){e.stopPropagation(),(s=!s)?(a.find(".SectionExpandable-toggled").show(),o.find("[data-labelvalue]").text(o.find("[data-labelhide]").data("labelhide"))):(a.find(".SectionExpandable-toggled").hide(),o.find("[data-labelvalue]").text(o.find("[data-labelshow]").data("labelshow")))}))}})),e(".SectionExpandable_headerCustom").off("click").on("click",(function(){a(this)})),e(".SectionExpandable_headerCustom input, .SectionExpandable_headerCustom select, .SectionExpandable_headerCustom a").click((function(e){e.stopPropagation()})),osAjaxBackend.BindAfterAjaxRequest(t.ajaxRefresh)}}i.SectionExpandable={create:()=>{SilkUI.SectionExpandable=new n,SilkUI.Execute(SilkUI.SectionExpandable.init,"Error on SilkUIFramework/Content/SectionExpandable")}}}(jQuery,window,SapphireWidgets)},function(e,t){!function(e,t,i){function n(){var t=this,i=[],n=SilkUI.whichTransitionEvent();function a(t){var a=e(t).parent(),o=a.children(".SectionExpandableInside_content"),s=a.attr("id");a.hasClass("expanded")?(o.addClass("noTransition"),o.height(o.height()),o[0].offsetHeight,o.removeClass("noTransition"),o.height(0),a.removeClass("expanded"),o.css("overflow","hidden"),i[s].client=!1):(o.height("auto"),o.css("overflow","hidden"),a.addClass("expanded"),i[s].client=!0,o.on(n,(function(){a.hasClass("expanded")&&(o.css("overflow","visible"),o.addClass("noTransition"),o.height("auto"),o[0].offsetHeight,o.removeClass("noTransition"))})))}t.ajaxRefresh=function(){e(".SectionExpandableInside .SectionExpandableInside_header").off(),e(".SectionExpandableInside .SectionExpandableInside_header input, .SectionExpandableInside .SectionExpandableInside_header select, .SectionExpandableInside .SectionExpandableInside_header a").click((function(e){e.stopPropagation()})),e(".SectionExpandableInside .SectionExpandableInside_header").on("click",(function(){a(this)})),e(".SectionExpandableInside").each((function(){if(null==i[e(this).attr("id")]){var t=!1;e(this).hasClass("expanded")&&(t=!0),i[e(this).attr("id")]={client:t,server:t}}var n=!1;e(this).hasClass("expanded")&&(n=!0),n!=i[e(this).attr("id")].server?(i[e(this).attr("id")].client=n,i[e(this).attr("id")].server=n):0==i[e(this).attr("id")].client&&e(this).hasClass("expanded")?(e(this).removeClass("expanded"),e(this).children(".SectionExpandableInside_content").height(0)):1!=i[e(this).attr("id")].client||e(this).hasClass("expanded")||e(this).addClass("expanded")}))},t.init=function(){e(".SectionExpandableInside").each((function(){var t=!1;e(this).hasClass("expanded")&&(t=!0),i[e(this).attr("id")]={client:t,server:t}})),e(".SectionExpandableInside .SectionExpandableInside_header").off("click").on("click",(function(){a(this)})),e(".SectionExpandableInside .SectionExpandableInside_header input, .SectionExpandableInside .SectionExpandableInside_header select, .SectionExpandableInside .SectionExpandableInside_header a").click((function(e){e.stopPropagation()})),osAjaxBackend.BindAfterAjaxRequest(t.ajaxRefresh)}}i.SectionExpandableInside={create:()=>{SilkUI.SectionExpandable=new n,SilkUI.Execute(SilkUI.SectionExpandable.init,"Error on SilkUIFramework/Content/SectionExpandable")},setNoBorder:e=>{e.addClass("SectionExpandableInside_header--noBorder")},setOpenCloseClass:t=>{t.click((function(){t.parent().hasClass("expanded")?(e(this).find(".HeaderIcon").removeClass("open"),e(this).find(".HeaderIcon").addClass("closed")):(e(this).find(".HeaderIcon").removeClass("closed"),e(this).find(".HeaderIcon").addClass("open"))}))}}}(jQuery,window,SapphireWidgets)},function(e,t){SapphireWidgets.SelectSystem=e=>{$((function(){var t,i=e.WidgetId,n=e.Class,a=e.NoResultsText,o=e.InpuType,s=e.Prompt,r=e.SelectType,l=e.HasSearch,c=e.OnSelectingJS,d=e.OnUnSelectingJS,u=e.MaximumLength,h=e.SelectedValue,p=e.allowClear,f=e.AjaxURL,m=e.AjaxDelay,g=e.PaginationSize,v=e.MinimumInputLenght,S=(e.SearchTerm,e.SearchExtraParam1),b=(e.PageTerm,e.PageAmount),C=(e.isMultiple,{});$.fn.select2.amd.define("SearchLikeSingle",["select2/utils","select2/dropdown","select2/dropdown/attachBody","select2/dropdown/attachContainer","select2/dropdown/search","select2/dropdown/minimumResultsForSearch"],(function(e,t,i,n,a,o){let s=e.Decorate(t,a);s.prototype.render=function(){var e=t.prototype.render.call(this);let i=this.options.get("placeholderForSearch")||"";var n=$('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" placeholder="'+i+'" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),n.addClass("MultipleSelect"),e.prepend(n),n.parent().addClass("MultipleSelect"),e};let r=e.Decorate(s,n);return r=e.Decorate(r,i),r})),t=""===i&&""!=n?$("."+n):$("#"+i),C.containerCssClass="select-hide "+o;if(""!=a&&(C.formatNoMatches=function(){return a}),""!=o&&(C.dropdownCssClass=o),"True"===p&&(C.allowClear=!0),""!=u&&(C.maximumInputLength=u),C.placeholder=""!=s?s:{id:"-1",text:"Select an option"},"3"===r&&((C={}).allowClear=!1,C.templateSelection=function(e){return e.full_name||e.text},C.templateResult=function(e){if(e.loading)return e.text;var t='<div class=""Clearfix""><div class=""ThemeGrid_Width12"">'+e.text+"</div>";return e.description&&(t+='<div class=""OSAutoMarginTop"">'+e.description+"</div>"),t+="</div>"},C.ajax={url:f,dataType:"json",delay:m,data:function(e){var t={},i=S.split(",");return t.SearchParameter=e.term,t.Page=e.page||1,t.PageAmount=b,i.forEach((function(e){var i=e.split(":");t[i[0]]=i[1]})),t},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:t.page*g<e.total_count}}},cache:!0},C.minimumInputLength=v,C.escapeMarkup=function(e){return e},e.isMultiple?(C.multiple=!0,C.containerCssClass="Select2Ajax Multiple",C.dropdownCssClass="Select2Ajax Multiple"):(C.multiple=!1,C.containerCssClass="Select2Ajax",C.dropdownCssClass="Select2Ajax"),C.minimumResultsForSearch=0,C.tags=e.HasTags,C.closeOnselect=!0,C.placeholder=s),"2"===r){var y=!1;t[0].options.length===t[0].selectedOptions.length&&(y=!0),""!=i&&(option=new Option("Select All","All",!0,y),t.prepend(option),t.find("option:first-child").addClass("SelectedAll")),C.multiple=!0,C.closeOnSelect=!1,C.allowHtml=!1,C.tags=!1,"True"===l?C.dropdownAdapter=$.fn.select2.amd.require("SearchLikeSingle"):C.minimumResultsForSearch=-1,C.containerCssClass="MultipleSelect",C.dropdownCssClass="MultipleSelect",C.templateSelection=function(e){var i=t.find(":selected"),n=i.length,a=t.find("option").length,o=(t.find("option:first-child:selected").length,""),s=(t.find(':selected:not(".SelectedAll")').length,t.find(':selected:not(".SelectedAll")'));return n===a?a-1>3?"All Selected":(s.each((function(){o=o+" "+$(this)[0].innerText})),o=o.replace(/,\s*$/,"")):n>3?n+" of "+(a-1)+" selected":n>0?(i.each((function(){o=o+" "+$(this)[0].innerText+", "})),o=o.replace(/,\s*$/,"")):"Select an option"}}if("6"===r){C={};var w=[];t.find("option").each((function(e,t){var i={id:$(this).val(),text:$(this).text(),html:$(this).text()};w.push(i)})),C.containerCssClass="customSelect",C.dropdownCssClass="dropdownCustom",C.data=w,C.escapeMarkup=function(e){return e},""!=h?t.val(h).trigger("change"):t.val("").trigger("change")}if("1"===r&&(C.tags=!0,C.containerCssClass="tagCustom",C.dropdownCssClass="tagCustom",C.TokenSeparatos=[","," "],C.createSearchChoice=function(e,t){if(0===$(t).filter((function(){return 0===this.text.localeCompare(e)})).length)return{id:e,text:e}}),"5"===r&&(C.tags=!0,C.containerCssClass="tagSystem",C.dropdownCssClass="tagSystem",C.createTag=function(e){var t=$.trim(e.term);return""===t?null:{id:"#"+t,text:t,newTag:!0}}),"False"===l&&(C.minimumResultsForSearch=-1),""!=d||""!=c)t.select2(C).on("select2:unselecting",(function(e){$(this).data("unselecting",!0)})).on("select:selecting",(function(e){})).on("select:opening",(function(e){$(this).data("unselecting")&&($(this).removeData("unselecting"),e.preventDefault())})).on("select:open",(function(e){e.preventDefault()})).on("select2:close",(function(e){e.preventDefault()}));else if("2"===r){t.select2(C);var k="#"+i;t.on("select2:select",(function(e){if(UnselectedId=e.params.data.id,"All"===UnselectedId){var i=[];$(k+" option").each((function(){i.push($(this).val())})),t.select2("destroy"),t.val(i).trigger("change"),t.select2(C),t.select2("open")}else{if(t.find("option:selected").length===t.find("option").length-1&&0===$(k+" >  option:selected:first-child").length){i=[];$(k+" option").each((function(){i.push($(this).val())})),t.select2("destroy"),t.val(i).trigger("change"),t.select2(C),t.select2("open")}}})),t.on("select2:unselect",(function(e){UnselectedId=e.params.data.id,"All"===UnselectedId?($(k+" > option").removeAttr("selected"),t.select2("destroy"),t.select2(C),t.select2("open"),$(k).val("").trigger("change")):($(k+" > option:first-child").removeAttr("selected"),t.select2(C),t.select2("open"))}))}else t.select2(C)}))}},function(e,t){!function(e,t,i,n){let a,o=e();const s=()=>{e(".ShiftExpandable").each((function(t,i){var n=e(this).parent().find(".FlagLine"),a=e(this).parent().find(".FlagLine_time"),o=n.data("column"),s=n.data("minutes"),r=e(this).closest(".ShiftContainer").find(".ShiftContainer_header").find(".ShiftCellContent"),l=s*Math.round(r.eq(0).width())/60,c=[];r.each((function(t,i){c.push(e(this).position().left)})),n.css("left",c[o-1]+l),n.css("display","block"),o===r.length&&a.css({right:"1px",left:"auto"}),e(this).find(".ShiftCard").each((function(t,i){var n=!1;e(i).find(".ShiftCellContent").each((function(t,i){var a=e(i).data("colspan");a===c.length||n?e(i).css({display:"inline-block",flex:"1 1 auto"}):a>1&&(n=!0,e(i).css({display:"inline-block",flex:"none",width:+(c[a]-c[0])+"px"}))}))})),i.scrollWidth>i.clientWidth?(e(i).width(i.scrollWidth),e(this).closest(".ShiftContainer").find(".ShiftContainer_header").width(i.scrollWidth)):(e(i).width("auto"),e(this).closest(".ShiftContainer").find(".ShiftContainer_header").width("auto"))}))},r=()=>{var e=o.find(".ShiftExpandable_container");o.find(".ShiftExpandable_container").length>0&&(e.get(0).scrollHeight>e.height()&&o.find(".IsTimer:last-child").css("padding-right","7px"))},l=()=>{clearTimeout(a),a=setTimeout((function(){r(),s()}),400)};n.ShiftContainer={create:t=>{e(".ShiftExpandable_container .ActionsMenu ").css("display","none"),o=e(t),r(),s(),e(".ShiftExpandable__arrow").off("mousedown").on("mousedown",(function(){setTimeout((function(){l()}),1500)}))},checkScroll:()=>{e(".Content").height()>e(t).height()&&l()},redrawShiftTimeline:l}}(jQuery,window,document,SapphireWidgets),$(window).off("resize.GenericGallery").on("resize.GenericGallery",(function(){$(".ShiftCard_timeLine").css("visibility","hidden"),$(".ShiftExpandable_container .ActionsMenu").css("display","none"),SapphireWidgets.ShiftContainer.redrawShiftTimeline(),osAjaxBackend.BindAfterAjaxRequest(SapphireWidgets.ShiftContainer.redrawShiftTimeline),setTimeout(SapphireWidgets.ShiftContainer.checkScroll,1e3),setTimeout((function(){$(".ShiftCard_timeLine").css("visibility","visible"),$(".ShiftExpandable_container .ActionsMenu").css("display","block")}),1500)})),$(window).load((function(){$(".ShiftContainer").length&&($(".ShiftCard_timeLine").css("visibility","hidden"),$(".ShiftExpandable_container .ActionsMenu").css("display","none"),setTimeout((function(){SapphireWidgets.ShiftContainer.redrawShiftTimeline()}),400),setTimeout(SapphireWidgets.ShiftContainer.checkScroll,500),setTimeout((function(){$(".ShiftCard_timeLine").css("visibility","visible"),$(".ShiftExpandable_container .ActionsMenu").css("display","block")}),600),$(".navigation-control-item").off("click").on("click",(function(){$(".ShiftCard_timeLine").css("visibility","hidden"),$(".ShiftExpandable_container .ActionsMenu").css("display","none")})),$(".ShiftExpandable_container").on("scroll",(function(){$(".tooltipster-base").is(":visible")&&$(".tooltipster-base").css("visibility","hidden")})),osAjaxBackend.BindAfterAjaxRequest((function(){setTimeout((function(){SapphireWidgets.ShiftContainer.redrawShiftTimeline()}),400),setTimeout(SapphireWidgets.ShiftContainer.checkScroll,500),setTimeout((function(){$(".ShiftCard_timeLine").css("visibility","visible"),$(".ShiftExpandable_container .ActionsMenu").css("display","block")}),600)})))}))},function(e,t){!function(e,t,i){class n{constructor(e){this.options={...e},this.onComponentInit()}setMainMenuWidth(){e(document).ready(()=>{const t=e(".LayoutBase-iframesidebar.notExpandable"),i=e(".LayoutBase--withTabs");if(t.length&&!i.length){e(".LayoutBase-MainMenu").css({width:"calc(100% - 262px)"})}})}openCloseMenu(t){t?(this.$component.addClass("SideMenu--open"),e(".LayoutBase-iframesidebar").css({zIndex:0})):(this.$component.removeClass("SideMenu--open"),e(".LayoutBase-iframesidebar").css({zIndex:70}))}onComponentInit(){this.setMainMenuWidth(),this.$component=e(`#${this.options.widgetId}`),this.$trigger=this.$component.find(".SideMenu__Trigger"),this.$shield=this.$component.find(".SideMenu__Shield"),this.$closeButton=this.$component.find(".SideMenu__MenuClose"),this.$tabItem=this.$component.find(".SideMenu__TabItems .MenuItem"),this.$menuItem=this.$component.find(".SideMenu__MenuItems .MenuItem"),this.$subItem=this.$component.find(".SideMenu__MenuItems .MenuItem_subItems"),this.$trigger.on("click",()=>this.openCloseMenu(!0)),this.$shield.on("click",()=>this.openCloseMenu(!1)),this.$closeButton.on("click",()=>this.openCloseMenu(!1)),this.$tabItem.on("click",t=>{const i=e(t.currentTarget).find(".MenuItem_label a");i.length&&i.get(0).click()}),this.$menuItem.on("click",t=>{if(t.target!==t.currentTarget)return;const i=e(t.currentTarget),n=i.find(".MenuItem_subItems"),a=i.find(".MenuItem_label a");a.length&&a.get(0).click(),this.$component.find(".SideMenu__MenuItems .active").not(i).removeClass("active"),this.$component.find(".SideMenu__MenuItems .show").not(i).removeClass("show"),i.toggleClass("active"),n.toggleClass("show")}),this.$subItem.on("click",e=>e.stopPropagation()),this.$component.find(".SideMenu__TabItems > div:empty").parent().hide()}}i.SideMenu={create:e=>t[e.widgetId]=new n(e)}}(jQuery,window,SapphireWidgets)},function(e,t){!function(e,t,i,n){var a=function(i){this.isExpandable=i.isExpandable,this.$widget=e("#"+i.widgetId),this.$sidebar=this.$widget.find(".ISidebar"),this.$sidebarMenu=this.$widget.find(".ISidebar-menu"),this.$sidebarMenuItem=this.$widget.find(".SidebarMenuItem"),this.$sidebarShield=this.$widget.find(".ISidebar-shield"),this.$sidebarContent=this.$widget.find(".ISidebar-content"),this.$sidebarContent.find("> div").each((function(){e(this).hasClass("PH")&&""===e(this).text()&&e(this).remove()})),this.attachEvents(),this.isExpandable||this.openMenuItem(0),e((function(){t.parent.$(".lds-ring").fadeOut(),this.isExpandable||e('input[type="text"]:visible').eq(0).focus()})),e(t).unload((function(){t.parent.$(".lds-ring").fadeOut()}))};a.prototype.attachEvents=function(){var t=this;this.$sidebarMenu.on("click",(function(e){e.stopPropagation(),t.$sidebar.hasClass("open")||t.openMenuItem(0)})),this.$sidebarMenuItem.on("click",(function(){var i=e(this).index();t.openMenuItem(i)})),this.$sidebarShield.on("click",(function(){t.close()})),this.$sidebar.on("click",".SearchSideBarFields .ButtonGroup_button:first-child",(function(){t.$sidebar.find(".FieldsSlider").addClass("Tab1").removeClass("Tab2"),t.setFieldFocus(t.$sidebarContent.find(".TextInput:visible").eq(0))})),this.$sidebar.on("click",".SearchSideBarFields .ButtonGroup_button:last-child",(function(){t.$sidebar.find(".FieldsSlider").addClass("Tab2").removeClass("Tab1"),t.setFieldFocus(t.$sidebarContent.find(".TextInput:visible").eq(0))}))},a.prototype.openMenuItem=function(e){this.$sidebar.find(".SidebarMenuItem").removeClass("active").eq(e).addClass("active"),this.$sidebar.find(".ISidebar-content > .ISidebar-content-panel").hide().eq(e).show(),this.$sidebar.addClass("open"),t.parent.length&&this.isExpandable&&t.parent.SapphireWidgets.LayoutBase.openSidebarIframe(0),this.$sidebarContent.find(".TextInput:visible").length>0&&this.setFieldFocus(this.$sidebarContent.find(".TextInput:visible").eq(0))},a.prototype.setFieldFocus=function(e){t.setTimeout((function(){e.click().select()}),250)},a.prototype.close=function(){t.parent.length&&t.parent.SapphireWidgets.LayoutBase.closeSidebarIframe(0),this.isExpandable&&(this.$sidebar.removeClass("open"),this.$sidebar.find(".SidebarMenuItem").removeClass("active"),this.$sidebar.find(".ISidebar-content > .ISidebar-content-panel").hide())},n.Sidebar={create:function(e){t[e.widgetId]=new a(e),n.Sidebar.widgetId=e.widgetId},close:function(){t[n.Sidebar.widgetId].close()}}}(jQuery,window,document,SapphireWidgets)},function(e,t){SapphireWidgets.SpinnerHorizontal={create:e=>{$(`#${e.widgetId} input`).on("input",(function(){const t=Math.abs(parseInt(this.value,10)||+e.minValue);this.value=t>+e.maxValue?+e.maxValue:t}))},increment:function(e,t,i,n){var a=$(e).find('input[type="number"]').first();null==a.val()||""==a.val()||isNaN(parseFloat(a.val()))?(a.val(t),n&&a.trigger("change")):(parseFloat(a.val())<i&&(a.val(parseFloat(a.val())+1),n&&a.trigger("change"),$(e).find("a.Minus").removeAttr("disabled")),parseFloat(a.val())>=i&&$(e).find("a.Plus").attr("disabled","disabled"))},decrement:function(e,t,i){var n=$(e).find('input[type="number"]').first();null==n.val()||""==n.val()||isNaN(parseFloat(n.val()))?(n.val(t),i&&n.trigger("change")):(parseFloat(n.val())>t&&(n.val(parseFloat(n.val())-1),i&&n.trigger("change"),$(e).find("a.Plus").removeAttr("disabled")),parseFloat(n.val())<=t&&$(e).find("a.Minus").attr("disabled","disabled"))}}},function(e,t){!function(e,t,i,n){const a=(t,i,n,a)=>{i<=n?e(t).find("a.MinusVertical").attr("disabled","disabled"):e(t).find("a.MinusVertical").removeAttr("disabled"),i>=a?e(t).find("a.PlusVertical").attr("disabled","disabled"):e(t).find("a.PlusVertical").removeAttr("disabled")};n.SpinnerVertical={create:function(t){e(i).ready((function(){e(`#${t.widgetID} .SpinnerInputVertical input`).on("blur keyup input",(function(){e(`#${t.widgetID} .SpinnerInputVertical input`).val()<" + MinValue + "?e(`#${t.widgetID}`).find(".MinusVertical").addClass("DisabledSpin"):e(`#${t.widgetID}`).find(".MinusVertical").removeClass("DisabledSpin")})),e(`#${t.widgetID} .SpinnerInputVertical input`).val()<=" + MinValue + "&&e(`#${t.widgetID}`).find(".MinusVertical").addClass("DisabledSpin"),t.isCursorOnFocus&&e("body").on("focus",`#${t.inputID} input`,(function(){var e=this;setTimeout((function(){e.selectionStart=e.selectionEnd=1e5}),300)}))}))},increment:(t,i,n,o,s)=>{let r=e(t).find('input[type="text"], input[type="number"]').first();var l="True"===e(t).data("forceinteger"),c=parseFloat(r.val()),d=1,u=c%1!=0;e(t).find(".MinusVertical").removeClass("DisabledSpin"),parseFloat(c)<i?e(t).find("a.MinusVertical").addClass("DisabledSpin"):e(t).find("a.MinusVertical").removeClass("DisabledSpin"),l||u&&(d=parseFloat(.1)),void 0===c||""===c||isNaN(parseFloat(c))?(r.val(i),o&&r.trigger("change"),s&&r.trigger("input")):parseFloat(c)<n?(0!==c||l||(d=parseFloat(.1)),r.val(parseFloat((c+d).toFixed(1))),o&&r.trigger("change"),s&&r.trigger("input"),e(t).find("a.MinusVertical").removeAttr("disabled")):e(t).find("a.PlusVertical").attr("disabled","disabled"),a(t,parseFloat(r.val()),i,n)},decrement:(t,i,n,o,s)=>{var r=e(t).find('input[type="text"], input[type="number"]').first(),l="True"===e(t).data("forceinteger"),c=parseFloat(r.val()),d=1;l||c%1!=0&&(d=parseFloat(.1)),void 0===c||""===c||isNaN(parseFloat(c))?(r.val(i),o&&r.trigger("change"),s&&r.trigger("input")):parseFloat(c)>i?(1!==c||l||(d=parseFloat(.1)),r.val(parseFloat((c-d).toFixed(1))),o&&r.trigger("change"),s&&r.trigger("input"),e(t).find("a.PlusVertical").removeAttr("disabled")):e(t).find("a.MinusVertical").attr("disabled","disabled"),a(t,parseFloat(r.val()),i,n)}}}(jQuery,window,document,SapphireWidgets)},function(e,t){!function(e,t,i,n){var a=function(t){this.config=t,this.$widget=e("#"+this.config.widgetId),this.$button=this.$widget.find(".SplitButton-button"),this.$buttonLink=this.$button.find("> a"),this.$trigger=this.$widget.find(".SplitButton-trigger"),this.$actions=this.$widget.find(".SplitButton-actions"),this.$actions.text()&&(this.$widget.find("> .SplitButton").addClass("hasTrigger"),this.buildActionsTrigger())};a.prototype.buildActionsTrigger=function(){var t=this,i=this.$buttonLink[0].classList.value;this.$trigger.addClass(i),e((function(){t.$trigger.hasClass("tooltipstered")||(t.$trigger.tooltipster({arrow:!0,content:e("<section/>").append(t.$actions.clone(!0)),trigger:t.config.triggerEvent,position:t.config.position,maxWidth:t.config.maxWidth,theme:"tooltipster-splitbutton Padding-"+t.config.padding}),t.$actions.remove())}))},n.SplitButton={create:function(e){t[e.widgetId]=new a(e)}}}(jQuery,window,document,SapphireWidgets)},function(e,t){var i=0,n=!0,a=null;"undefined"==typeof ssdComponent&&(ssdComponent={length:0,numberOfActive:0,isRTL:!1,id:"",toDestroy:!1,onBlurDestroy:function(){if(""!=ssdComponent.id){$("#"+ssdComponent.id);var e=$("[data-ssd-placeholder="+ssdComponent.id+"]");if(ssdComponent.toDestroy)e.find(".SSDListRefreshHandler").find("a.to-destroy").click(),e.remove();else(e=$("[data-ssd-placeholder="+ssdComponent.id+"]")).find("input").val(""),ssdComponent.blur()}},focus:function(e){var t=$(e).children("div.SSD-Wrapper:not(.Selected)");t.length&&(ssdComponent.numberOfActive&&ssdComponent.blur(),ssdComponent.numberOfActive++,t.parent().hasClass("SSDPopup")?t.children(".SSD-Component").css({width:function(){return $(this).outerWidth()}}).children(".SSD-Bar").css({width:function(){return $(this).outerWidth()}}).siblings(".SSD-List").attr("current-focus",0):t.children(".SSD-Component").css({width:function(){return $(this).outerWidth()},top:function(){return this.getBoundingClientRect().top+$(document).scrollTop()},left:function(){return ssdComponent.isRTL?"auto":this.getBoundingClientRect().left},right:function(){return ssdComponent.isRTL?$(window).width()-$(this).outerWidth()-this.getBoundingClientRect().left:"auto"}}).children(".SSD-Bar").css({width:function(){return $(this).outerWidth()}}).siblings(".SSD-List").attr("current-focus",0),t.parent().hasClass("SSDPopup")||t.closest("form").append(t),t.addClass("Positioned"),setTimeout((function(){t.addClass("Selected")}),1))},blur:function(){if(ssdComponent.numberOfActive){var e=$("div.SSD-Wrapper.Positioned.Selected");e.each((function(){$("#"+$(this).attr("data-ssd-placeholder")).append($(this))})),e.removeClass("Positioned").children(".SSD-Component").css({width:"",top:"",left:"",right:""}).removeClass("Searching Fixed KeyboardNav").children(".SSD-Bar").css({width:""}),setTimeout((function(){e.removeClass("Selected").find(".SSD-Bar").each((function(){ssdComponent.tabsClear(this)}))}),1),ssdComponent.numberOfActive--,$(".SSD_ListRecords span, .SSD_ListLine.ShowMore, .SSD_DeleteOnBlur").remove()}},resize:function(){if(ssdComponent.numberOfActive){var e=$("div.SSD-Wrapper.Selected").first(),t=$("#"+e.attr("data-ssd-placeholder"))[0],i=e.children(".SSD-Component");void 0!==t.getBoundingClientRect&&i.css({width:function(){return $(t).width()}}).children(".SSD-Bar").css({width:function(){return $(this).closest(".SSD-Component").innerWidth()}})}},tabSelect:function(e,t,i,n){var a=$(i);0==ssdComponent.numberOfActive&&ssdComponent.focus(e),a.is(".Selected")||(ssdComponent.tabsClear(t),a.addClass("Selected")),ssdComponent.focusSelectedTab(t,n)},focusSelectedTab:function(e,t){if(e.children(".SearchInput-Container.Selected").length){var o=e.siblings(".SSDListRefreshHandler").find("a:not(.to-destroy)");return t?function(e){n=!1,0==i&&null==a?(a=setInterval((function(){(i+=100)>=400&&0==n?(i=0,n=!0,clearInterval(a),a=null,e.click()):1==n&&(clearInterval(a),a=null)}),100),1==n&&(clearInterval(a),a=null)):1==n&&(clearInterval(a),a=null)}(o):o.click(),void e.find('.InputPlaceholder input[type="text"]:not(:focus)').first().select().focus()}e.children(".ShortListSelector-Container.Selected").length&&e.find(".ShortListSelector-Container > a").focus()},focusCurrentRow:function(){var e=$("div.SSD-Wrapper.Selected .SSD-Component").first(),t=e.find(".SSD-List"),i=t.attr("current-focus");e.addClass("KeyboardNav"),t.find("span.SSD_ListRecords > span:nth-child("+i+")").addClass("focus")},tabsClear:function(e){$(e).children().removeClass("Selected")},searchIcon:function(e){ssdComponent.tabSelect(e.data.ssdComponentWidget,e.data.ssdBar,$(e.data.ssdBar).children(".SearchInput-Container"),!1)},inputEvent:function(e){var t=$(e.data.input).closest(".SearchInput-Container");ssdComponent.tabSelect(e.data.ssdComponentWidget,e.data.ssdBar,t,!0),""==$(e.data.input).val()?t.closest(".SSD-Component").removeClass("Searching"):t.closest(".SSD-Component").addClass("Searching")},keydownEvent:function(e){i=0,n=!0,clearInterval(a),a=null},keyboardHandler:function(e){if("Shift"!=e.key&&"Control"!=e.key){var t=$("div.SSD-Wrapper.Selected .SSD-Component").first(),i=t.find(".SSD-List");if("Enter"!=e.key||!i.find(".SSD_ListLine.ShowMore.focus").length)if("Tab"!=e.key){if("ArrowUp"==e.key||"ArrowDown"==e.key){var n=i.attr("current-focus"),a=$(null);return i.find(".SSD_ListLine.ShowMore.focus").length?a=i.find(".SSD_ListLine.ShowMore.focus"):n>0&&(a=i.find("span.SSD_ListRecords > span:nth-child("+n+")")),t.addClass("KeyboardNav"),"ArrowUp"==e.key&&(a.length?(a.is(".SSD_ListLine.ShowMore.focus")?(a.removeClass("focus"),a=i.find("span.SSD_ListRecords > span:last-child")):a=a.removeClass("focus").prev(),n--):(n=i.find("span.SSD_ListRecords > span").length,i.find(".SSD_ListLine.ShowMore").length?(a=i.find(".SSD_ListLine.ShowMore"),n++):a=i.find("span.SSD_ListRecords > span:last-child"))),"ArrowDown"==e.key&&(a.length?(a.is(".SSD_ListLine.ShowMore.focus")?(a.removeClass("focus"),a=$(null)):!(a=a.removeClass("focus").next()).length&&i.find(".SSD_ListLine.ShowMore").length&&(a=i.find(".SSD_ListLine.ShowMore")),n++):(a=i.find("span.SSD_ListRecords > span:first-child"),n=1)),a.addClass("focus"),a.length?a.find(".SSD_ListLine.Disabled").length?i.find("a.OtherControlLink").focus():a.find(".ExpandControl > a").focus():(ssdComponent.focusSelectedTab(t.find(".SSD-Bar"),!1),n=0),void i.attr("current-focus",n)}ssdComponent.clearKeyboardNavStatus(t)}else t.addClass("KeyboardNav")}},clearKeyboardNavStatus:function(e){var t=$(e),i=t.find(".SSD-List");i.find(".SSD_ListLine.ShowMore.focus").length||(t.removeClass("KeyboardNav"),i.attr("current-focus",0).find("span.SSD_ListRecords > span.focus").removeClass("focus").find(".ExpandControl > a").blur())},scrollHandler:function(){var e=$("div.SSD-Wrapper.Selected .SSD-Component").first();if(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<=1024){if(e[0].getBoundingClientRect().top>$(".toolbar-wrapper.Fixed").outerHeight())return void e.removeClass("Fixed");$(".SSD-Wrapper.Selected > .SSD-Component.Fixed > .SSD-Bar").css("top",$(".toolbar-wrapper.Fixed").outerHeight()+"px")}else{if(e[0].getBoundingClientRect().top>$(".TopPatientHeader").outerHeight(!0)+$(".Header").outerHeight(!0)+$(".toolbar-wrapper").outerHeight()+$(".CTTASLevelAssessmentMainContainer").outerHeight(!0))return void e.removeClass("Fixed");$(".SSD-Wrapper.Selected > .SSD-Component.Fixed > .SSD-Bar").css("top",$(".TopPatientHeader").outerHeight(!0)+$(".Header").outerHeight(!0)+$(".toolbar-wrapper").outerHeight()+$(".CTTASLevelAssessmentMainContainer").outerHeight(!0)+"px")}e.addClass("Fixed")},destroy:function(e){$("[data-ssd-placeholder="+ssdComponent.id+"]").remove()},init:function(e,t){ssdComponent.length++,ssdComponent.numberOfActive=0,ssdComponent.isRTL=$("html").is(".rtl"),ssdComponent.toDestroy=t,void 0!==e&&(ssdComponent.id=$(e).attr("id"));var i=$(e),n=i.find(".SSD-Component"),a=n.children(".SSD-Bar").first(),o=a.find(".SearchIcon").first(),s=a.find('input[type="text"]').first(),r=a.find(".ClearControl").first();o.off("click").on("click",{ssdComponentWidget:i,ssdBar:a},ssdComponent.searchIcon),a.children("div").off("click").on("click",{ssdComponentWidget:i,ssdBar:a},(function(e){ssdComponent.tabSelect(e.data.ssdComponentWidget,e.data.ssdBar,this,!1)})),r.off("click").on("click",ssdComponent.onBlurDestroy),s.off("keyup").on("keyup",{ssdComponentWidget:i,ssdBar:a,input:s},ssdComponent.inputEvent),s.off("keydown").on("keydown",{ssdComponentWidget:i,ssdBar:a,input:s},ssdComponent.keydownEvent),$(n).off("click").on("click",{ssdComponent:n},(function(e){ssdComponent.clearKeyboardNavStatus(e.data.ssdComponent)}))}}),$(document).ready((function(){$(window).on("resize",(function(e){ssdComponent.resize()})),$(document).on("click",(function(e){$(e.target).is(":visible")&&($(e.target).closest(".SSD-Component").length||ssdComponent.onBlurDestroy())})),$(document).on("keydown",(function(e){ssdComponent.numberOfActive>0&&("27"==e.keyCode&&ssdComponent.onBlurDestroy(),"ArrowUp"!=e.key&&"ArrowDown"!=e.key||e.preventDefault())})),$(document).on("keyup",(function(e){ssdComponent.numberOfActive>0&&ssdComponent.keyboardHandler(e)})),$(document).on("scroll",(function(){ssdComponent.numberOfActive>0&&ssdComponent.scrollHandler()}))}))},function(e,t){SapphireWidgets.SSDListLine={toggle:(e,t="")=>{var i=$(e).is(".SSD_ListLine")?$(e):$(e).children(".SSD_ListLine").first();if(i.length){var n=$(".expand-control-custom-width");if(0!=n.length&&(n.removeClass("expand-control-custom-width"),n.css("width","")),i.is(".Active"))i.removeClass("Active");else{var a=i.closest("div.SelectableList, .SelectableList-ListRecords").find("div.SelectableList-Line.Active").not(i);a.find("a[hide-action]").click(),a.removeClass("Active").children("span").hide(200),i.addClass("Active"),$(t).length&&$(t).click()}}}}},function(e,t){var i=function(e){var t=e.find(".TopScrollWrapper"),i=e.find(".TabularScroll-center-table");e.find(".TopScrollWrapper").scroll((function(){i.scrollLeft(t.scrollLeft())})),i.scroll((function(){t.scrollLeft(i.scrollLeft())}));var n=i.find("table").width();e.find(".TabularScroll-center .TopScrollDragger").width(n),i[0].scrollWidth>i.width()?e.find(".TopScrollWrapper").css("visibility","visible"):e.find(".TopScrollWrapper").css("visibility","hidden")};$((function(){$(".TabularScroll").each((function(e,t){i($(t))}))})),$(window).load((function(){osAjaxBackend.BindAfterAjaxRequest((function(){$(".TabularScroll").each((function(e,t){i($(t))}))}))})),$(window).resize((function(){$(".TabularScroll").each((function(e,t){var i=$(t).find(".TabularScroll-center-table"),n=i.find("table").width();$(t).find(".TabularScroll-center .TopScrollDragger").width(n),i[0].scrollWidth>i.width()?$(t).find(".TopScrollWrapper").css("visibility","visible"):$(t).find(".TopScrollWrapper").css("visibility","hidden")}))}))},function(e,t){SapphireWidgets.TabsExtended=function(){$(".Tabs_Extended .Tabs_header > .Tabs__tab").each((function(){""===$(this).text()&&$(this).remove()})),$(".Tabs_Extended .Tabs_header .Tabs__tab:not(.active)").off("mousedown").on("mousedown",(function(e){$(e.target).closest(".Tabs_Extended").removeClass("isClosed")})),$(".Tabs_Extended.HideActiveOnClick .Tabs_header").off("mousedown").on("mousedown",".Tabs__tab.active",(function(e){var t=$(e.target).closest(".Tabs_Extended"),i=t.find(".Tabs_body");i.hasClass("Tabs_body--closed")?(i.removeClass("Tabs_body--closed"),t.removeClass("isClosed")):(i.addClass("Tabs_body--closed"),t.addClass("isClosed"))})),$(".Tabs_Extended--disabled").each((function(e,t){$(t).parent().css("cursor","default").off("click")})),$(".Tabs_Extended").each((function(e,t){$(t).hasClass("Tabs_Extended--closedonstart")&&($(t).find(".Tabs_body").addClass("Tabs_body--closed"),$(t).addClass("isClosed"),$(t).removeClass("Tabs_Extended--closedonstart")),$(t).off("click").on("click",".Tabs_Extended--close",(function(e){$(e.target).closest(".Tabs_body").addClass("Tabs_body--closed")}))}))},$(document).ready((function(){SapphireWidgets.TabsExtended(),osAjaxBackend.BindAfterAjaxRequest(SapphireWidgets.TabsExtended)}))},function(e,t){!function(e,t,i,n){n.TriggerIframeTooltip={create:function(t){var i=e("#"+t.elementId);i.addClass("tooltip"),"click"===t.triggerId&&i.addClass("tooltipstered--pointer");var n='data-iframetooltiptriggerid="'+t.elementId+'"',a=e.find('[data-iframetooltiptriggerid="'+t.elementId+'"]');1===a.length&&(n+=" data-iframetooltipnotifyid="+e(a).data("iframetooltipnotifyid")),i.tooltipster({contentAsHTML:!0,theme:t.theme,interactive:!0,position:t.positionId,trigger:t.triggerId,minWidth:t.minWidth,maxWidth:t.maxWidth,zindex:t.zindex,content:'<iframe src="'+t.URL+'" style="border:none" id="tooltipster-frame" '+n+"></iframe>",functionReady:function(t,i){e(i).css({visibility:"hidden"}),setTimeout((function(){e(".tooltipster-base").css({visibility:"visible"})}),500)}})}}}(jQuery,window,document,SapphireWidgets)},function(e,t){}]);